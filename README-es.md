# Colección avanzada de complementos de Nagios

[![GitHub stars](https://img.shields.io/github/stars/harisekhon/nagios-plugins?logo=github)](https://github.com/HariSekhon/Nagios-Plugins/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/harisekhon/nagios-plugins?logo=github)](https://github.com/HariSekhon/Nagios-Plugins/network)
[![Contributors](https://img.shields.io/github/contributors/HariSekhon/Nagios-Plugins?logo=github)](https://github.com/HariSekhon/Nagios-Plugins/graphs/contributors)
[![Lines of Code](https://img.shields.io/badge/lines%20of%20code-80k-lightgrey?logo=codecademy)](https://github.com/HariSekhon/Nagios-Plugins)
[![GitHub Last Commit](https://img.shields.io/github/last-commit/HariSekhon/Nagios-Plugins?logo=github)](https://github.com/HariSekhon/Nagios-Plugins/commits/master)

[![Codacy](https://app.codacy.com/project/badge/Grade/22d2175b89d8414d921d0196984307bd)](https://www.codacy.com/gh/HariSekhon/Nagios-Plugins/dashboard)
[![CodeFactor](https://www.codefactor.io/repository/github/harisekhon/Nagios-Plugins/badge)](https://www.codefactor.io/repository/github/harisekhon/Nagios-Plugins)
[![Codiga Grade](https://api.codiga.io/project/8841/status/svg)](https://app.codiga.io/project/8841/dashboard)
[![Codiga Score](https://api.codiga.io/project/8841/score/svg)](https://app.codiga.io/project/8841/dashboard)
[![Language grade: Python](https://img.shields.io/lgtm/grade/python/g/HariSekhon/Nagios-Plugins.svg?logo=lgtm\&logoWidth=18)](https://lgtm.com/projects/g/HariSekhon/Nagios-Plugins/context:python)
[![Quality Gate Status](https://sonarcloud.io/api/project_badges/measure?project=HariSekhon_Nagios-Plugins\&metric=alert_status)](https://sonarcloud.io/dashboard?id=HariSekhon_Nagios-Plugins)
[![Maintainability Rating](https://sonarcloud.io/api/project_badges/measure?project=HariSekhon_Nagios-Plugins\&metric=sqale_rating)](https://sonarcloud.io/dashboard?id=HariSekhon_Nagios-Plugins)
[![Reliability Rating](https://sonarcloud.io/api/project_badges/measure?project=HariSekhon_Nagios-Plugins\&metric=reliability_rating)](https://sonarcloud.io/dashboard?id=HariSekhon_Nagios-Plugins)
[![Security Rating](https://sonarcloud.io/api/project_badges/measure?project=HariSekhon_Nagios-Plugins\&metric=security_rating)](https://sonarcloud.io/dashboard?id=HariSekhon_Nagios-Plugins)
[![Total alerts](https://img.shields.io/lgtm/alerts/g/HariSekhon/Nagios-Plugins.svg?logo=lgtm\&logoWidth=18)](https://lgtm.com/projects/g/HariSekhon/Nagios-Plugins/alerts/)

<!-- only counts Python lines of code, underestimates by at least half
[![Lines of Code](https://sonarcloud.io/api/project_badges/measure?project=HariSekhon_Nagios-Plugins&metric=ncloc)](https://sonarcloud.io/dashboard?id=HariSekhon_Nagios-Plugins)
-->

<!-- site broken
[![Python 3](https://pyup.io/repos/github/HariSekhon/Nagios-Plugins/python-3-shield.svg)](https://pyup.io/repos/github/HariSekhon/Nagios-Plugins/)
[![PyUp](https://pyup.io/repos/github/HariSekhon/Nagios-Plugins/shield.svg)](https://pyup.io/account/repos/github/HariSekhon/Nagios-Plugins/)
-->

[![Linux](https://img.shields.io/badge/OS-Linux-blue?logo=linux)](https://github.com/HariSekhon/Nagios-Plugins)
[![Mac](https://img.shields.io/badge/OS-Mac-blue?logo=apple)](https://github.com/HariSekhon/Nagios-Plugins)
[![Docker](https://img.shields.io/badge/container-Docker-blue?logo=docker\&logoColor=white)](https://hub.docker.com/r/harisekhon/nagios-plugins/)
[![Dockerfile](https://img.shields.io/badge/repo-Dockerfiles-blue?logo=docker\&logoColor=white)](https://github.com/HariSekhon/Dockerfiles)
[![DockerHub Pulls](https://img.shields.io/docker/pulls/harisekhon/nagios-plugins?label=DockerHub%20pulls\&logo=docker\&logoColor=white)](https://hub.docker.com/r/harisekhon/nagios-plugins)
[![DockerHub Build Automated](https://img.shields.io/docker/automated/harisekhon/nagios-plugins?logo=docker\&logoColor=white)](https://hub.docker.com/r/harisekhon/nagios-plugins/)
[![StarTrack](https://img.shields.io/badge/Star-Track-blue?logo=github)](https://seladb.github.io/StarTrack-js/#/preload?r=HariSekhon,Nagios-Plugins\&r=HariSekhon,Dockerfiles\&r=HariSekhon,DevOps-Python-tools\&r=HariSekhon,DevOps-Perl-tools\&r=HariSekhon,DevOps-Bash-tools\&r=HariSekhon,HAProxy-configs\&r=HariSekhon,SQL-scripts)
[![StarCharts](https://img.shields.io/badge/Star-Charts-blue?logo=github)](https://github.com/HariSekhon/DevOps-Bash-tools/blob/master/STARCHARTS.md)

<!--
[![Docker Build Status](https://img.shields.io/docker/build/harisekhon/nagios-plugins?logo=docker&logoColor=white)](https://hub.docker.com/r/harisekhon/nagios-plugins/builds)
[![MicroBadger](https://images.microbadger.com/badges/image/harisekhon/nagios-plugins.svg)](http://microbadger.com/#/images/harisekhon/nagios-plugins)
-->

[![CI Builds Overview](https://img.shields.io/badge/CI%20Builds-Overview%20Page-blue?logo=circleci)](https://harisekhon.github.io/CI-CD/)
[![Jenkins](https://img.shields.io/badge/Jenkins-ready-blue?logo=jenkins\&logoColor=white)](https://github.com/HariSekhon/Nagios-Plugins/blob/master/Jenkinsfile)
[![Concourse](https://img.shields.io/badge/Concourse-ready-blue?logo=concourse)](https://github.com/HariSekhon/Nagios-Plugins/blob/master/.concourse.yml)
[![GoCD](https://img.shields.io/badge/GoCD-ready-blue?logo=go)](https://github.com/HariSekhon/Nagios-Plugins/blob/master/.gocd.yml)
[![TeamCity](https://img.shields.io/badge/TeamCity-ready-blue?logo=teamcity)](https://github.com/HariSekhon/TeamCity-CI)

[![CircleCI](https://circleci.com/gh/HariSekhon/Nagios-Plugins.svg?style=svg)](https://circleci.com/gh/HariSekhon/Nagios-Plugins)
[![BuildKite](https://img.shields.io/buildkite/60cb2e7e00658d466df3957953eacfc6e1b61d606ed7a5d657/master?label=BuildKite\&logo=buildkite)](https://buildkite.com/hari-sekhon/nagios-plugins)
[![AppVeyor](https://img.shields.io/appveyor/build/harisekhon/Nagios-Plugins/master?logo=appveyor\&label=AppVeyor)](https://ci.appveyor.com/project/HariSekhon/Nagios-Plugins/branch/master)
[![Drone](https://img.shields.io/drone/build/HariSekhon/Nagios-Plugins/master?logo=drone\&label=Drone)](https://cloud.drone.io/HariSekhon/Nagios-Plugins)
[![Codeship Status for HariSekhon/Nagios-Plugins](https://app.codeship.com/projects/e23f19f0-3c5f-0138-3476-32bf6ef9714a/status?branch=master)](https://app.codeship.com/projects/387256)
[![Codefresh](https://g.codefresh.io/api/badges/pipeline/harisekhon/GitHub%2FNagios%20Plugins?branch=master\&key=eyJhbGciOiJIUzI1NiJ9.NWU1MmM5OGNiM2FiOWUzM2Y3ZDZmYjM3.O69674cW7vYom3v5JOGKXDbYgCVIJU9EWhXUMHl3zwA\&type=cf-1)](https://g.codefresh.io/pipelines/edit/new/builds?id=5e58e344353f5db981385bf4\&pipeline=Nagios%20Plugins\&projects=GitHub\&projectId=5e52ca8ea284e00f882ea992\&context=github\&filter=page:1;pageSize:10;timeFrameStart:week)
[![Cirrus CI](https://img.shields.io/cirrus/github/HariSekhon/Nagios-Plugins/master?logo=Cirrus%20CI\&label=Cirrus%20CI)](https://cirrus-ci.com/github/HariSekhon/Nagios-Plugins)
[![Semaphore](https://harisekhon.semaphoreci.com/badges/Nagios-Plugins.svg)](https://harisekhon.semaphoreci.com/projects/Nagios-Plugins)
[![Wercker](https://app.wercker.com/status/76887616b9d1ea67f640e9001cd71662/s/master "wercker status")](https://app.wercker.com/harisekhon/Nagios-Plugins/runs)
[![Buddy](https://img.shields.io/badge/Buddy-ready-1A86FD?logo=buddy)](https://github.com/HariSekhon/Nagios-Plugins/blob/master/buddy.yml)
[![Shippable](https://img.shields.io/badge/Shippable-legacy-lightgrey?logo=jfrog\&label=Shippable)](https://github.com/HariSekhon/Nagios-Plugins/blob/master/shippable.yml)
[![Travis CI](https://img.shields.io/badge/TravisCI-ready-blue?logo=travis\&label=Travis%20CI)](https://github.com/HariSekhon/Nagios-Plugins/blob/master/.travis.yml)

<!--[![Wercker](https://img.shields.io/wercker/ci/5e58efbfd1f86d0900f13a3f/master?label=Wercker&logo=oracle)](https://app.wercker.com/harisekhon/Nagios-Plugins/runs)-->

[![Azure DevOps Pipeline](https://dev.azure.com/harisekhon/GitHub/\_apis/build/status/HariSekhon.Nagios-Plugins?branchName=master)](https://dev.azure.com/harisekhon/GitHub/\_build/latest?definitionId=9\&branchName=master)
[![GitLab Pipeline](https://img.shields.io/gitlab/pipeline/harisekhon/Nagios-Plugins?logo=gitlab\&label=GitLab%20CI)](https://gitlab.com/HariSekhon/Nagios-Plugins/pipelines)
[![BitBucket Pipeline](https://img.shields.io/bitbucket/pipelines/harisekhon/nagios-plugins/master?logo=bitbucket\&label=BitBucket%20CI)](https://bitbucket.org/harisekhon/Nagios-Plugins/addon/pipelines/home#!/)
[![AWS CodeBuild](https://img.shields.io/badge/AWS%20CodeBuild-ready-blue?logo=amazon%20aws)](https://github.com/HariSekhon/Nagios-Plugins/blob/master/buildspec.yml)
[![GCP Cloud Build](https://img.shields.io/badge/GCP%20Cloud%20Build-ready-blue?logo=google%20cloud\&logoColor=white)](https://github.com/HariSekhon/Nagios-Plugins/blob/master/cloudbuild.yaml)

[![Repo on Azure DevOps](https://img.shields.io/badge/repo-Azure%20DevOps-0078D7?logo=azure%20devops)](https://dev.azure.com/harisekhon/GitHub/\_git/Nagios-Plugins)
[![Repo on GitHub](https://img.shields.io/badge/repo-GitHub-2088FF?logo=github)](https://github.com/HariSekhon/Nagios-Plugins)
[![Repo on GitLab](https://img.shields.io/badge/repo-GitLab-FCA121?logo=gitlab)](https://gitlab.com/HariSekhon/Nagios-Plugins)
[![Repo on BitBucket](https://img.shields.io/badge/repo-BitBucket-0052CC?logo=bitbucket)](https://bitbucket.org/HariSekhon/Nagios-Plugins)
[![ShellCheck](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/shellcheck.yaml/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/shellcheck.yaml)
[![JSON](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/json.yaml/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/json.yaml)
[![YAML](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/yaml.yaml/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/yaml.yaml)
[![XML](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/xml.yaml/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/xml.yaml)
[![Validation](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/validate.yaml/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/validate.yaml)
[![Semgrep](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/semgrep.yaml/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/semgrep.yaml)
[![Semgrep Cloud](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/semgrep-cloud.yaml/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/semgrep-cloud.yaml)
[![Kics](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/kics.yaml/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/kics.yaml)

[![Docker Build (Alpine)](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/docker_nagios_plugins_alpine.yaml/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/docker_nagios_plugins_alpine.yaml)
[![Docker Build (CentOS)](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/docker_nagios_plugins_centos.yaml/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/docker_nagios_plugins_centos.yaml)
[![Docker Build (Debian)](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/docker_nagios_plugins_debian.yaml/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/docker_nagios_plugins_debian.yaml)
[![Docker Build (Fedora)](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/docker_nagios_plugins_fedora.yaml/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/docker_nagios_plugins_fedora.yaml)
[![Docker Build (Ubuntu)](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/docker_nagios_plugins_ubuntu.yaml/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions/workflows/docker_nagios_plugins_ubuntu.yaml)

[![GitHub Actions Ubuntu](https://github.com/HariSekhon/Nagios-Plugins/workflows/GitHub%20Actions%20Ubuntu/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22GitHub+Actions+Ubuntu%22)
[![Mac](https://github.com/HariSekhon/Nagios-Plugins/workflows/Mac/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Mac%22)
[![Mac 10.15](https://github.com/HariSekhon/Nagios-Plugins/workflows/Mac%2010.15/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Mac+10.15%22)
[![Ubuntu](https://github.com/HariSekhon/Nagios-Plugins/workflows/Ubuntu/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Ubuntu%22)
[![Ubuntu 14.04](https://github.com/HariSekhon/Nagios-Plugins/workflows/Ubuntu%2014.04/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Ubuntu+14.04%22)
[![Ubuntu 16.04](https://github.com/HariSekhon/Nagios-Plugins/workflows/Ubuntu%2016.04/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Ubuntu+16.04%22)
[![Ubuntu 18.04](https://github.com/HariSekhon/Nagios-Plugins/workflows/Ubuntu%2018.04/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Ubuntu+18.04%22)
[![Ubuntu 20.04](https://github.com/HariSekhon/Nagios-Plugins/workflows/Ubuntu%2020.04/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Ubuntu+20.04%22)
[![Debian](https://github.com/HariSekhon/Nagios-Plugins/workflows/Debian/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Debian%22)
[![Debian 8](https://github.com/HariSekhon/Nagios-Plugins/workflows/Debian%208/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Debian+8%22)
[![Debian 9](https://github.com/HariSekhon/Nagios-Plugins/workflows/Debian%209/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Debian+9%22)
[![Debian 10](https://github.com/HariSekhon/Nagios-Plugins/workflows/Debian%2010/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Debian+10%22)
[![CentOS](https://github.com/HariSekhon/Nagios-Plugins/workflows/CentOS/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22CentOS%22)
[![CentOS 7](https://github.com/HariSekhon/Nagios-Plugins/workflows/CentOS%207/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22CentOS+7%22)
[![CentOS 8](https://github.com/HariSekhon/Nagios-Plugins/workflows/CentOS%208/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22CentOS+8%22)
[![Fedora](https://github.com/HariSekhon/Nagios-Plugins/workflows/Fedora/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Fedora%22)
[![Alpine](https://github.com/HariSekhon/Nagios-Plugins/workflows/Alpine/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Alpine%22)
[![Alpine 3](https://github.com/HariSekhon/Nagios-Plugins/workflows/Alpine%203/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Alpine+3%22)

[![Python versions](https://img.shields.io/badge/Python-2.7+-3776AB?logo=python\&logoColor=white)](https://github.com/HariSekhon/Nagios-Plugins)
[![Python 2.7](https://github.com/HariSekhon/Nagios-Plugins/workflows/Python%202.7/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Python+2.7%22)
[![Python 3.6](https://github.com/HariSekhon/Nagios-Plugins/workflows/Python%203.6/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Python+3.6%22)
[![Python 3.7](https://github.com/HariSekhon/Nagios-Plugins/workflows/Python%203.7/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Python+3.7%22)
[![Python 3.8](https://github.com/HariSekhon/Nagios-Plugins/workflows/Python%203.8/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Python+3.8%22)
[![Python 3.9](https://github.com/HariSekhon/Nagios-Plugins/workflows/Python%203.9/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Python+3.9%22)
[![Python 3.10](https://github.com/HariSekhon/Nagios-Plugins/workflows/Python%203.10/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Python+3.10%22)
[![PyPy 2](https://github.com/HariSekhon/Nagios-Plugins/workflows/PyPy%202/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22PyPy+2%22)
[![PyPy 3](https://github.com/HariSekhon/Nagios-Plugins/workflows/PyPy%203/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22PyPy+3%22)

[![Perl versions](https://img.shields.io/badge/Perl-5.10+-39457E?logo=perl)](https://github.com/HariSekhon/Nagios-Plugins)
[![Perl](https://github.com/HariSekhon/Nagios-Plugins/workflows/Perl/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Perl%22)
[![Perl 5.10](https://github.com/HariSekhon/Nagios-Plugins/workflows/Perl%205.10/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Perl+5.10%22)
[![Perl 5.12](https://github.com/HariSekhon/Nagios-Plugins/workflows/Perl%205.12/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Perl+5.12%22)
[![Perl 5.14](https://github.com/HariSekhon/Nagios-Plugins/workflows/Perl%205.14/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Perl+5.14%22)
[![Perl 5.16](https://github.com/HariSekhon/Nagios-Plugins/workflows/Perl%205.16/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Perl+5.16%22)
[![Perl 5.18](https://github.com/HariSekhon/Nagios-Plugins/workflows/Perl%205.18/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Perl+5.18%22)
[![Perl 5.20](https://github.com/HariSekhon/Nagios-Plugins/workflows/Perl%205.20/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Perl+5.20%22)
[![Perl 5.22](https://github.com/HariSekhon/Nagios-Plugins/workflows/Perl%205.22/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Perl+5.22%22)
[![Perl 5.24](https://github.com/HariSekhon/Nagios-Plugins/workflows/Perl%205.24/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Perl+5.24%22)
[![Perl 5.26](https://github.com/HariSekhon/Nagios-Plugins/workflows/Perl%205.26/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Perl+5.26%22)
[![Perl 5.28](https://github.com/HariSekhon/Nagios-Plugins/workflows/Perl%205.28/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Perl+5.28%22)
[![Perl 5.30](https://github.com/HariSekhon/Nagios-Plugins/workflows/Perl%205.30/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Perl+5.30%22)
[![Perl 5.32](https://github.com/HariSekhon/Nagios-Plugins/workflows/Perl%205.32/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Perl+5.32%22)
[![Perl 5.34](https://github.com/HariSekhon/Nagios-Plugins/workflows/Perl%205.34/badge.svg)](https://github.com/HariSekhon/Nagios-Plugins/actions?query=workflow%3A%22Perl+5.34%22)

<!-- broken handling of Elasticsearch major version for Python library -->

[git.io/nagios-plugins](https://git.io/nagios-plugins)

##### La colección más grande y avanzada de código de monitoreo Nagios de grado de producción (más de 450 programas).

Plugins especializados para tecnologías AWS, Hadoop, Big Data & NoSQL, escritos por un antiguo Clouderan ([Cloudera](http://www.cloudera.com) fue el primer proveedor de Big Data de Hadoop) y ex-[Hortonworks](http://www.hortonworks.com) consultor.

Soporta la mayoría de las principales tecnologías NoSQL de código abierto, Pub-Sub / Message Buses, CI, Web e infraestructura basada en Linux, incluyendo:

*   [AWS](https://aws.amazon.com/)
*   [Hadoop](http://hadoop.apache.org/) - amplia integración de API a todos los principales proveedores de Hadoop ([Cloudera](http://www.cloudera.com), [Hortonworks](http://www.hortonworks.com), [MapR](http://www.mapr.com), [IBM BigInsights](https://www.ibm.com/support/knowledgecenter/SSPT3X\_4.0.0/com.ibm.swg.im.infosphere.biginsights.product.doc/doc/c0057605.html))
*   [Estibador](https://www.docker.com/)
*   [Kafka](http://kafka.apache.org/)
*   [ConejoMQ](http://www.rabbitmq.com/)
*   [Elasticsearch](https://www.elastic.co/products/elasticsearch)
*   [Solr / SolrCloud](http://lucene.apache.org/solr/)
*   [HBase](https://hbase.apache.org/)
*   [Casandra](http://cassandra.apache.org/)
*   [Redis](http://redis.io/)
*   [CouchDB](http://couchdb.apache.org/)
*   [Cónsul](https://www.consul.io/)
*   [ZooKeeper](https://zookeeper.apache.org/)
*   [Jenkins](https://jenkins.io/)
*   [Travis CI](https://travis-ci.org/)
*   [Títere](https://puppet.com/)
*   Linux - varios incluyendo el ampliamente utilizado `check_yum.py` para [RHEL](https://www.redhat.com/en/technologies/linux-platforms/enterprise-linux) / [Centos](https://www.centos.org/) Actualizaciones de seguridad de yum
*   Expiración del certificado SSL en días y validaciones
*   Caducidad del dominio Whois en días y validaciones
*   comprobaciones avanzadas de registros DNS (MX, NS, SRV, etc.)
*   [Git](https://git-scm.com/), [MySQL](https://www.mysql.com/) ... etc.

Soporta una amplia variedad de [sistemas de supervisión empresarial compatibles](https://github.com/HariSekhon/Nagios-Plugins#enterprise-monitoring-systems).

La mayoría de los sistemas de monitoreo empresarial vienen con comprobaciones genéricas básicas, mientras que este proyecto extiende sus capacidades de monitoreo significativamente más allá de la infraestructura avanzada, la capa de aplicación, las API, etc.

Si se ejecuta en servicios en Cloud o Kubernetes, simplemente apunte a la dirección del equilibrador de carga o a las direcciones de Kubernetes Service o Ingress.

También es útil para ejecutarse en la línea de comandos para pruebas o en scripts para la comprobación de disponibilidad de dependencias, y viene con una selección de [configuraciones avanzadas de HAProxy](https://github.com/HariSekhon/HAProxy-configs) para que estas tecnologías faciliten la supervisión y el scripting de las tecnologías en clúster.

Las solicitudes de corrección, sugerencias, actualizaciones y mejoras son bienvenidas a través de Github [cuestiones](https://github.com/HariSekhon/Nagios-Plugins/issues) o [solicitudes de extracción](https://github.com/HariSekhon/Nagios-Plugins/pulls) (en cuyo caso GitHub te dará crédito y te marcará como colaborador del proyecto :)).

Hari Sekhon

Cloud & Big Data Contractor, Reino Unido

[![My LinkedIn](https://img.shields.io/badge/LinkedIn%20Profile-HariSekhon-blue?logo=linkedin)](https://www.linkedin.com/in/HariSekhon/)

###### (eres bienvenido a conectarte conmigo en LinkedIn)

##### Asegúrate de correr `make update` si se actualiza y no solo `git pull` ya que a menudo necesitará los últimos submódulos de biblioteca y probablemente también nuevas bibliotecas ascendentes.

## Inicio rápido

1.  Git clona este repositorio y compila dependencias ejecutando `make`<br>
    O<br>
2.  Descargar autónomo pre-construido [Imagen de Docker](https://hub.docker.com/r/harisekhon/nagios-plugins/)

Ejecute cada programa en la línea de comandos con `--help` para ver sus opciones.

### Imagen de Docker lista para ejecutar

Todos los plugins y sus dependencias precompiladas se pueden encontrar listos para ejecutarse en [DockerHub](https://hub.docker.com/r/harisekhon/nagios-plugins/), si tiene [Estibador](https://www.docker.com/) instalado, busque este proyecto así:

    docker pull harisekhon/nagios-plugins

Lista de todos los plugins:

    docker run harisekhon/nagios-plugins

Ejecute cualquier complemento dado sufijándolo al `docker run` mandar:

    docker run harisekhon/nagios-plugins <program> <args>

Eg.

    docker run harisekhon/nagios-plugins check_ssl_cert.pl --help

También hay `:centos` (`:latest`), `:alpine`, `:debian`, `:fedora` y `:ubuntu` imágenes de docker etiquetadas disponibles, así como `:python` y `:perl` sólo imágenes.

Debe etiquetar la compilación localmente como `:stable` o la fecha y hora marcada y ejecutar esa etiqueta para evitar que se reemplace automáticamente por una más reciente `:latest` compilaciones, para controlar las actualizaciones que se adapten a su programación y evitar retrasos aleatorios de `docker run`s tirando hacia abajo las nuevas compilaciones de DockerHub.

### Compilación automatizada desde el origen

    curl -L https://git.io/nagios-plugins-bootstrap | sh

o

```

git clone https://github.com/HariSekhon/Nagios-Plugins

cd nagios-plugins

make

```

Ahora ejecuta cualquier plugin con `--help` para averiguar qué interruptores usar.

Asegúrate de leer [Instrucciones de compilación detalladas](https://github.com/HariSekhon/Nagios-Plugins#detailed-build-instructions) más abajo para obtener más información.

#### Opcional: Genere scripts Perl autónomos con todas las dependencias integradas en cada archivo para facilitar la distribución

Después de la `make` La compilación ha finalizado, si desea crear versiones autónomas de todos los scripts perl con todas las dependencias incluidas para copiar, ejecute:

    make fatpacks

Los scripts autónomos estarán disponibles en el `fatpacks/` directorio.

## Guía rápida de plugins

Hay más de 400 programas en este repositorio, por lo que estos son solo algunos de los aspectos más destacados.

###### Enlaces rápidos

*   [Ecosistema de Hadoop](https://github.com/HariSekhon/Nagios-Plugins#hadoop-ecosystem) - HDFS, Hilo, HBase, Ambari, Atlas, Ranger
    *   [Distribuciones de Hadoop](https://github.com/HariSekhon/Nagios-Plugins#hadoop-distributions) - Cloudera, Hortonworks, MapR, IBM BigInsights
    *   [SQL-on-Hadoop](https://github.com/HariSekhon/Nagios-Plugins#sql-on-hadoop) - Colmena, Taladro, Presto
*   [Descubrimiento y coordinación de servicios](https://github.com/HariSekhon/Nagios-Plugins#service-discovery--coordination) - ZooKeeper, Cónsul, Bóveda
*   [Nube](https://github.com/HariSekhon/Nagios-Plugins#cloud) - AWS
*   [Docker / Contenedorización](https://github.com/HariSekhon/Nagios-Plugins#docker--containerization) - Docker & Docker Swarm, Mesos, Kubernetes
*   [Buscar](https://github.com/HariSekhon/Nagios-Plugins#search) - Elasticsearch, Solr / SolrCloud
*   [NoSQL](https://github.com/HariSekhon/Nagios-Plugins#nosql) - Cassandra, Redis, Riak, Memcached, CouchDB
*   [Bases de datos SQL](https://github.com/HariSekhon/Nagios-Plugins#sql-databases) - MySQL
*   [Pub-Sub / Colas de mensajes](https://github.com/HariSekhon/Nagios-Plugins#publish---subscribe--message-queues) - Kafka, Redis, ConejoMQ
*   [CI - Integración continua y sistemas de construcción](https://github.com/HariSekhon/Nagios-Plugins#ci---continuous-integration--build-systems---git-jenkins-travis-ci--dockerhub-automated-builds) - Jenkins, Travis CI, GoCD, DockerHub, Git
*   [Infraestructura](https://github.com/HariSekhon/Nagios-Plugins#infrastructure---internet---web-dns-ssl-domains)
    *   [Internet](https://github.com/HariSekhon/Nagios-Plugins#infrastructure---internet---web-dns-ssl-domains) - Web, DNS, SSL y caducidad del dominio
    *   [Linux](https://github.com/HariSekhon/Nagios-Plugins#infrastructure---linux---os-network-puppet-raid-ssh-clusters-yum-security-updates) - OS, Red, Puppet, RAID, SSH, Clusters, Yum Actualizaciones de seguridad

##### Ecosistema de Hadoop

*   `check_hadoop_*.pl/py` - varios [Apache Hadoop](http://hadoop.apache.org/) utilidades de monitoreo para HDFS, YARN y MapReduce (MRv1 y MRv2):
    *   Hadoop- Estado de los maestros y alta disponibilidad (ZKFC, estado activo / en espera), recuentos de nodos de trabajo, nodos muertos / nodos en la lista negra / en mal estado, uso del montón, métricas e información JMX con umbrales opcionales y datos gráficos
    *   HDFS - Comprobaciones de NameNode y DataNode, espacio de clúster, equilibrio, replicación de bloques, límites de recuento de bloques por datanode / clúster total, modo seguro, dirs de nombre fallido, WebHDFS (con soporte de conmutación por error HDFS HA), HttpFS, capacidad de escritura HDFS, configuración de resiliencia de rack (comprueba más de 1 rack configurado, encuentra nodos con rack predeterminado configurado), HDFS fsck status / last check / run time / max blocks, HDFS file / directory existence & metadata attributes
    *   Hilo:
        *   Infraestructura: comprobaciones de Resource Manager y NodeManager, NodeManagers en mal estado, estado de la cola, capacidad de la cola, estadísticas de la aplicación, % de memoria asignada, métricas con umbrales opcionales para verificar cosas como activeNodes, appsPending, lostNodes, unhealthyNodes, etc.
        *   Aplicaciones: último estado terminado de la aplicación / usuario / cola / tiempo transcurrido (SLA de trabajo por lotes), aplicaciones de cola permitidas / no permitidas (capturar Spark Shells en la cola de producción), aplicación en ejecución (verifique que el servicio de hilo de larga duración aún esté activo), detección de aplicaciones / trabajos de larga duración con nombre y cola incluya / excluya regexes (detecte infracciones de SLA para trabajos por lotes en curso o Spark Shells olvidados que contengan recursos,  tanto Spark Scala como PySpark)
*   `check_hbase_*.py/pl` - varios [Apache HBase](https://hbase.apache.org/) supervisar utilidades utilizando las API de Thrift + Stargate, comprueba Masters / Backup Masters, RegionServers, disponibilidad de tabla (existe, está habilitada y tiene un número mínimo de familias de columnas), número de regiones de tabla esperadas, regiones de tabla no asignadas, regiones atascadas en transición, saldo de recuento de regiones en RegionServers, saldo de solicitudes por seg en RegionServers, compactación en curso (por tabla y por regiónserver), número de regiones en transición,  el tiempo de migración de región actual más largo, el estado de hbck para cualquier inconsistencia, el contenido de la celda frente a los umbrales opcionales regex +, la escritura y lectura de tablas de valores generados únicos con comprobaciones de latencia de escritura/lectura/eliminación contra todas las familias de columnas detectadas, la pulverización de escritura de tabla y la lectura de valores únicos en todas las regiones para todas las familias de columnas con comprobaciones de latencia de escritura/lectura/eliminación,  recopilar métricas
*   `check_atlas_*.py` - [Apache Atlas](http://atlas.apache.org/) el estado de la instancia del servidor de metadatos, así como las comprobaciones de entidades de metadatos, incluida la existencia de la entidad, state=ACTIVE, el tipo esperado, las etiquetas esperadas se asignan a la entidad (por ejemplo. PII - importante porque las ACL de Ranger para permitir o denegar el acceso a los datos se pueden asignar en función de las etiquetas)
*   `check_ranger_*.pl/.py` - [Guardabosques Apache](https://ranger.apache.org/) Cheques:
    *   comprobaciones de directivas: existencia, habilitada, tiene habilitada la auditoría, es recursiva, última actualización frente a umbrales (para detectar cambios), nombre del repositorio y tipo al que pertenece la directiva
    *   comprobaciones del repositorio: existencia, activo, tipo (por ejemplo, colmena, hdfs), última actualización frente a umbrales (para detectar cambios)
    *   número de directivas y repositorios frente a umbrales
*   `check_ambari_*.pl` - [Apache Ambari](https://ambari.apache.org/) Comprobaciones de API para clústeres de Hadoop escritos ejecutando el código abierto estándar [Hortonworks](https://hortonworks.com/) distribución: comprueba el estado del servicio, el estado de los nodos, las configuraciones obsoletas, el resumen de alertas de clúster, el resumen de alertas de host, el informe de estado del clúster, la resistencia del rack HDFS configurada (comprueba más de 1 rack configurado, encuentra nodos con rack predeterminado configurado), kerberos habilitado, versión del clúster, configuración del servicio compatible con la pila y el clúster

Los plugins de Attivio, Blue Talon, Datameer, Platfora, Zaloni también están disponibles para aquellos productos propietarios relacionados con [Hadoop](http://hadoop.apache.org/).

##### Distribuciones de Hadoop

*   `check_cloudera_manager_*.pl` - Comprobaciones de clúster de Hadoop a través de [Administrador de Cloudera](https://www.cloudera.com/) API: comprueba los estados y el estado de los servicios/roles/nodos del clúster, los servicios de administración, la caducidad de la configuración, la caducidad de la licencia de Cloudera Enterprise, las versiones de clúster de Cloudera Manager y CDH, los conmutadores de utilidades para enumerar clústeres/servicios/roles/nodos, así como enumerar usuarios y sus privilegios de rol, obtener una gran cantidad de métricas de monitoreo de Hadoop & OS de Cloudera Manager y compararlas con umbrales. Descargo de responsabilidad: Trabajé para Cloudera, pero en serio CM recopila una cantidad impresionante de métricas, lo que hace que check_cloudera_manager_metrics.pl solo sea un programa muy versátil desde el cual crear cientos de comprobaciones para alertar de manera flexible.
*   [Hortonworks](https://hortonworks.com/) - la distribución estándar moderna de Hadoop - véase `check_ambari_*.pl` En [Ecosistema de Hadoop](https://github.com/HariSekhon/Nagios-Plugins#hadoop-ecosystem) sección anterior
*   `check_mapr*.pl` - Comprobaciones de clúster de Hadoop a través de [MapR](https://mapr.com/) API del sistema de control: comprueba los servicios y nodos, el espacio mapR-FS (clúster y por volumen), los estados del volumen, la replicación de bloques de volumen, las instantáneas y la duplicación de volúmenes, mapR-FS por utilización de espacio en disco en los nodos, los discos con errores, los latidos de CLDB, las alarmas de MapR, el modo MapReduce y la utilización de la memoria, las métricas del equilibrador de roles y discos. Estos son notablemente más rápidos que la ejecución de comandos maprcli equivalentes (excepciones: el equilibrador de disco/rol usa maprcli).
*   `check_ibm_biginsights_*.pl` - Comprobaciones de clúster de Hadoop a través de IBM BigInsights Console API: comprueba servicios, nodos, agentes, ejecuciones de libros de BigSheets, rutas y propiedades dfs, espacio HDFS y replicación de bloques, versión de la consola de BI, aplicaciones de consola de BI implementadas

##### SQL-on-Hadoop

*   `check_hiveserver2*` - [Colmena Apache](https://hive.apache.org/) - HiveServer2 LLAP Estado y tiempo de actividad del servidor interactivo, recuento de pares, comprobación de un fqdn de host par específico a través de regex y una prueba de consulta trivial de conexión beeline básica
*   `check_apache_drill_*.py/.pl` - [Taladro Apache](https://drill.apache.org/) Cheques:
    *   todo el clúster: número de nodos de clúster en línea / fuera de línea, versiones no coincidentes en todo el clúster
    *   por nodo de perforación: estado, pertenencia al clúster, cifrado habilitado, configuración de configuración, complementos de almacenamiento habilitados, versión, métricas con umbrales opcionales
*   `check_presto_*.py` - [Presto SQL DB](https://prestodb.io/)
    *   comprobaciones de clúster (a través de la API del coordinador): número de consultas actuales, consultas en ejecución/fallidas/bloqueadas/en cola, tareas, nodos de trabajo, nodos de trabajo fallidos, trabajadores con retraso de respuesta al coordinador, trabajadores con fallos recientes y ratios de fallos recientes frente a umbrales, versión
    *   comprobaciones por nodo: estado, si coordinador, entorno
    *   comprobaciones por trabajador (a través de la API del coordinador): trabajador específico registrado con el coordinador, edad de respuesta al coordinador, solicitudes recientes vs umbral, éxitos recientes, fallas recientes y relación de fallas vs umbrales

##### Descubrimiento y coordinación de servicios

*   `check_zookeeper.pl` - [Apache ZooKeeper](https://zookeeper.apache.org/) comprobaciones del servidor, múltiples capas: estado "está bien", es grabable (quórum), modo de funcionamiento (líder/seguidor vs independiente), recopilar estadísticas
*   `check_zookeeper_*znode*.pl` - [ZooKeeper](https://zookeeper.apache.org/) znode comprueba con ZK Perl API, útil para [HBase](https://hbase.apache.org/), [Kafka](https://kafka.apache.org/), [SolrCloud](https://wiki.apache.org/solr/SolrCloud), [Hadoop](http://hadoop.apache.org/) HDFS & Yarn HA (ZKFC) y cualquier otro servicio basado en ZooKeeper. Muy versátil con múltiples comprobaciones opcionales que incluyen datos vs regex, extracción de campo json, estado efímero, znodes secundarios, znodes última edad modificada
*   `check_consul_*.py` - [Cónsul](https://www.consul.io/) Escritura / lectura de API, comprobaciones arbitrarias de contenido clave-valor, elección del líder del clúster, número de pares del clúster, elección del líder del servicio, versión
*   `check_vault_*.py` - Hashicorp [Bóveda](https://www.vaultproject.io/) Comprobaciones de API: las comprobaciones de estado se inicializan, no están en espera, se sellan / desprecintan el almacén, se sesgan el tiempo entre el servidor del almacén y el local, están habilitados para la alta disponibilidad, es el líder actual, se encuentra el líder, la versión

##### Nube

*   [AWS](https://aws.amazon.com/):
    *   `check_aws_s3_file.pl` - comprobar la existencia de cualquier archivo arbitrario en AWS S3, por ejemplo. Para comprobar que se han realizado copias de seguridad o \_SUCCESS archivos de marcador de posición están presentes para un trabajo
    *   `check_aws_access_keys_age.py` - Comprueba la antigüedad de la clave de acceso de AWS superior a N días para eliminar/rotar las claves antiguas según las prácticas recomendadas (opcionalmente, solo alertas para claves activas)
    *   `check_aws_access_keys_disabled.py` - Comprueba las claves de acceso deshabilitadas de AWS que deben eliminarse
    *   `check_aws_api_ping.py` - Comprobación simple de sí/no para el acceso a la API de AWS, se puede utilizar para probar las credenciales de clave de acceso y como comprobación de dependencia para todas las demás comprobaciones de AWS
    *   `check_aws_cloudtrails_enabled.py` - comprueba que Cloud Trails tiene habilitado el registro, la validación de varias regiones y archivos de registro. Opcionalmente, marque solo un único rastro de nube con nombre
    *   `check_aws_cloudtrails_event_selectors.py` - comprobaciones Cloud Trails tiene al menos un selector de eventos cada uno con gestión y registro de lectura + escritura. Opcionalmente, marque solo un único rastro de nube con nombre
    *   `check_aws_ec2_instance_count.py` - Comprueba el número de instancias en ejecución con umbrales de rango opcionales
    *   `check_aws_ec2_instance_states.py` - comprueba el estado de todas las instancias EC2, los totales de salida y los umbrales de advertencia para cada tipo de estado
    *   `check_aws_password_policy.py` - comprueba la política de contraseñas de AWS, incluida la longitud mínima, la antigüedad máxima, el recuento de reutilización de contraseñas, las mayúsculas/minúsculas/números/símbolos y si los usuarios pueden cambiar sus contraseñas
    *   `check_aws_root_account.py` - Comprueba que la cuenta raíz de AWS tiene MFA habilitado y no tiene claves de acceso según las prácticas recomendadas
    *   `check_aws_user_last_used.py` - comprueba si se ha utilizado una determinada cuenta de usuario de AWS IAM en los últimos N días (por ejemplo, si la cuenta raíz se utilizó recientemente, esto puede indicar una violación de seguridad o, como mínimo, va en contra de las prácticas recomendadas)
    *   `check_aws_users_unused.py` - detecta cuentas de usuario antiguas de AWS IAM que no se han utilizado en los últimos N días, ya sean contraseñas ni claves de acceso, y probablemente debería eliminarse
    *   `check_aws_users_password_last_used.py` - detecta las cuentas de usuario de AWS IAM que no han utilizado sus contraseñas en N días y probablemente deberían eliminarse
    *   `check_aws_users_mfa_enabled.py` - Comprueba que todas las cuentas de usuario de AWS con contraseñas tengan MFA habilitado

##### Docker / Contenedorización

*   `check_docker_*.py` - [Estibador](https://www.docker.com/) Comprobaciones de API que incluyen ping de API, recuentos de contenedores en ejecución / pausados / detenidos / totales con umbrales, estado específico del contenedor por nombre o id, recuento de imágenes con umbrales, disponibilidad específica de image:tag, incluido el tamaño y la suma de comprobación, recuentos de redes / volúmenes con umbrales, versión del motor docker
*   `check_docker_swarm_*.py` - [Enjambre de Docker](https://docs.docker.com/engine/swarm/) Comprobaciones de API que incluyen está habilitado para enjambre, estado de nodo de enjambre, es el nodo un administrador de enjambre, estado del servicio de enjambre, incluido el número de réplicas / tareas en vivo y si el servicio se actualizó recientemente, recuentos de servicios, administrador de enjambre y nodos de trabajo con umbrales, errores de enjambre, versión de enjambre
*   `check_mesos_*.pl` - [Mesos](http://mesos.apache.org/) API de salud maestra, información de estado de maestros y esclavos, incluidos el líder y las versiones, esclavos activados y desactivados, número de trabajos de Chronos, métricas de maestro y esclavo. Advertencia: Mesos & Mesosphere DC / OS es un legado semi-propietario: el gran impulso se ha desplazado al código abierto [Kubernetes](https://kubernetes.io/) proyecto
*   `check_kubernetes_*.py` - [Kubernetes](https://kubernetes.io/) Estado y versión de la API

Si se ejecutan comprobaciones de Docker desde dentro del [nagios plugins docker imagen](https://hub.docker.com/r/harisekhon/nagios-plugins/) luego deberá exponer el zócalo dentro del contenedor, así:

    docker run -v /var/run/docker.sock:/var/run/docker.sock harisekhon/nagios-plugins check_docker_container_status.py -H unix:///var/run/docker.sock --container myContainer
     OK: Docker container 'myContainer' status = 'running', started at '2020-06-03T14:03:09.78303932Z' | query_time=0.0038s

Vea también el estado de compilación de DockerHub nagios plugin más abajo en el [Sección IC](https://github.com/HariSekhon/Nagios-Plugins#ci---continuous-integration--build-systems---git-jenkins-travis-ci--dockerhub-automated-builds).

##### Buscar

*   `check_elasticsearch_*.pl/.py` - [Elasticsearch](https://www.elastic.co/products/elasticsearch) estado del clúster, particiones, réplicas, número de nodos y nodos de datos en línea, fragmento y disco % de equilibrio entre nodos, nodo único ok, nodo específico encontrado en estado de clúster, tareas lentas, tareas pendientes, versiones de elasticsearch / lucene, por existencia de índice / fragmentos / réplicas / configuración / edad, estadísticas por clúster / índice / nodo, caducidad de la licencia X-Pack y características habilitadas
    *   `check_logstash_*.py` - [Logstash](https://www.elastic.co/products/logstash) estado, tiempo de actividad, hilos activos, complementos, versión, número de canalizaciones en línea, canalización específica en línea y, opcionalmente, su número de trabajadores, si su cola de letra muerta está habilitada, genera el tamaño del lote de canalización y el retraso
*   `check_solr*.pl` - comprobaciones de [Apache Solr](http://lucene.apache.org/solr/) y [SolrCloud](https://wiki.apache.org/solr/SolrCloud) incluyendo API write/read/delete, consultas Solr arbitrarias vs documentos coincidentes de num, ping API, Solr Core Heap / Index Size / Número de documentos para una colección Solr determinada, y umbrales en ms contra todas las operaciones de la API de Solr, así como perfdata para gráficos, así como comprobaciones de contenido de SolrCloud ZooKeeper para fragmentos de colección y estados de réplicas, número de nodos activos en el clúster de SolrCloud,  supervisor, configuración de SolrCloud y métricas de Solr.

##### NoSQL

*   `check_cassandra_*.pl` / `check_datastax_opscenter_*.pl` - [Apache Cassandra](http://cassandra.apache.org/) y [DataStax OpsCenter](https://www.datastax.com/) supervisión, incluidos los nodos del clúster de Cassandra, el equilibrio de tokens, el espacio, el montón, la configuración de replicación del espacio de claves, las alertas, las copias de seguridad, las comprobaciones de reglas de mejores prácticas, el estado del servicio de análisis hadoop de DSE y las métricas recopiladas tanto de nodetool como de DataStax OpsCenter
*   `check_memcached_*.pl` - [Memcached](https://memcached.org/) API escribe/lee/elimina con tiempos, comprueba el valor de la clave específica contra regex o rango de valores, número de conexiones actuales, recopila estadísticas
*   `check_couchdb_*.py` - [Apache CouchDB](http://couchdb.apache.org/) Comprobaciones de API que incluyen el estado del servidor, la base de datos existente, los recuentos de documentos y documentos eliminados, el tamaño de los datos, la compactación en ejecución, la versión
*   `check_riak_*.pl` - [Riak](http://basho.com/products/riak-kv/) API escribe/lee/elimina con tiempos, comprueba el valor de una clave específica con respecto a regex o rango de valores, comprueba todos los diagnósticos de riak, comprueba los estados de los nodos, comprueba que todos los nodos estén de acuerdo con el estado del anillo, recopila estadísticas, alerta sobre cualquier estadística individual
*   `check_redis_*.pl` - [Redis](https://redis.io/) API escribe/lee/elimina con tiempos, comprueba el valor de una clave específica con respecto a regex o rango de valores, E/S esclavas de replicación, escrituras replicadas (escritura en maestro -> lectura desde esclavo), publicación/suscripción, clientes conectados, valida redis.conf contra servidor en ejecución para comprobar implementaciones o comprobaciones de cumplimiento remoto, recopila estadísticas, alerta sobre cualquier estadística única

##### Bases de datos SQL

*   `check_mysql_query.pl` - forma libre flexible [MySQL](https://www.mysql.com/) Las consultas SQL - pueden comprobar casi cualquier cosa - obsoleto una docena de plugins personalizados de MySQL e impidieron escribir muchos más. Probado con muchas versiones de [MySQL](https://www.mysql.com/) y [MariaDB](https://mariadb.org/). También te puede interesar [Plugins de Percona](https://www.percona.com/doc/percona-monitoring-plugins/latest/index.html)
*   `check_mysql_config.pl` - detectar diferencias en su /etc/my.cnf y ejecutar la configuración de MySQL para detectar DBAs que realizan cambios en las bases de datos en ejecución sin guardar en /etc/my.cnf o backporting a Puppet. También se puede utilizar para validar de forma remota el cumplimiento de la configuración con respecto a una línea de base buena conocida. Probado con muchas versiones de [MySQL](https://www.mysql.com/) y [MariaDB](https://mariadb.org/)

##### Publicar - Suscribirse / Colas de mensajes

Estos programas comprueban estos agentes de mensajes de extremo a extremo a través de su API, actuando como productor y consumidor y comprobando que un mensaje generado único pase a través del clúster de corredores y sea recibido por el consumidor en el otro lado con éxito. Informan sobre los tiempos de publicación, consumo y total tomados, contra los cuales se pueden aplicar umbrales, y también están disponibles como datos permanentes para la elaboración de gráficos.

*   `check_kafka.py/.pl` - [Kafka](https://kafka.apache.org/) Brokers API write & read back con temas configurables / partición y comportamiento del productor para acks, sleep, retries, backoff, también puede enumerar temas y particiones. Ver [Kafka Scala Nagios Plugin](https://github.com/HariSekhon/Nagios-Plugin-Kafka) para una versión compatible con Kerberos
*   `check_redis_publish_subscribe.pl` - [Redis](https://redis.io/) write & read back de la API publish-subscribe con espera de suscriptor configurable. Ver otros cheques de Redis en [NoSQL](https://github.com/HariSekhon/Nagios-Plugins#nosql)
*   `check_rabbitmq*.py` - [ConejoMQ](https://www.rabbitmq.com/) Brokers AMQP API write & read back with configurable vhost, exchange, exchange type, queue, routing key, durability, RabbitMQ 'confirma' la extensión del protocolo y el soporte estándar de transacciones AMQP. Las comprobaciones a través de la API de administración de RabbitMQ incluyen prueba de estado de cola de vitalidad, comprobaciones de estado integradas, nombre de clúster, vhost, intercambio con validación opcional del tipo de intercambio (directo, fanout, encabezados, tema) y durabilidad (verdadero / falso), autenticación de usuario y etiquetas de permisos, estadísticas db cola de eventos

<!--
Debian / Ubuntu systems also have other unrelated RabbitMQ plugins in the `nagios-plugins-rabbitmq` package
-->

##### CI - Integración continua y sistemas de construcción - Git, Jenkins, Travis CI y DockerHub Automated Builds

*   `check_jenkins_*.py` - [Jenkins](https://jenkins.io/) las comprobaciones incluyen el estado de compilación del trabajo, el color, la puntuación del informe de estado, el tiempo de compilación, la antigüedad desde la última compilación completada, si el trabajo está configurado como compilable, el recuento total de trabajos o por vista, el número de compilaciones en ejecución, las compilaciones en cola, los ejecutores, el recuento de nodos, los nodos sin conexión, el modo jenkins, está habilitado para la seguridad, si un nodo determinado está en línea y su número de ejecutores, si un complemento determinado está habilitado y si hay actualizaciones de complementos disponibles individualmente o en general,  con perfdata para métricas relevantes como tiempo de compilación, trabajos / nodos / ejecutores / complementos / actualizaciones de complementos, recuentos de compilación en ejecución / cola y tiempos de consulta
*   `check_travis_ci_last_build.py` - [Travis CI](https://travis-ci.org/) Estado de la última compilación del repositorio: incluye mostrar el número de compilación, la duración de la compilación con umbrales opcionales, la fecha y hora de inicio / parada, si actualmente hay compilaciones en progreso y datos permanentes para graficar el tiempo de la última compilación y el número de compilaciones en progreso. El modo detallado también proporciona los detalles de confirmación, como el identificador de confirmación y el mensaje
*   `check_gocd_*.py` - [GoCD](https://www.gocd.org/) comprobaciones del estado del servidor y del agente, canalización, etapa y nivel de trabajo, y número de agentes en línea, habilitados y en diferentes estados
*   `check_dockerhub_repo_build_status.py` - [DockerHub](https://hub.docker.com/u/harisekhon/) Comprobación automatizada del estado de compilación para la última compilación o la última compilación de un repositorio de DockerHub determinado para una etiqueta determinada. Devuelve el estado y la etiqueta de la última compilación junto con perfdata para graficar la latencia de compilación (tiempo entre la creación y finalización de la compilación) y el tiempo de consulta. Opcionalmente también devuelve en modo detallado lo que desencadenó la compilación (webhook, cambio de control de revisión, api / disparador de sitio web), marcas de tiempo de fecha creadas y actualizadas por última vez y URL de compilación para investigar
*   `check_selenium_*.py` - comprobaciones [Rejilla de selenio](https://www.selenium.dev/documentation/en/grid/) Hub / Nodo o [Selenoide](https://aerokube.com/selenoid/) el estado está listo, el tamaño de la cola, los recuentos de nodos disponibles para todos o tipos de navegadores específicos, y que los navegadores están disponibles y son completamente funcionales solicitando un navegador (por ejemplo, chrome o firefox), consultando una url y, opcionalmente, realizando una coincidencia de contenido o regex en la página web devuelta
*   `check_git_*` - comprueba un [Git](https://git-scm.com/) checkout es válido, está actualizado con el control remoto / origen ascendente, no tiene cambios no comprometidos (por etapas o sin etapas), no tiene archivos sin seguimiento, no está sucio, está en la rama correcta, no es remoto, no está separado, está / no está desnudo. Útil para supervisar los servidores de implementación que se ejecutan en las retiradas de Git (un escenario común para cosas como [Titiriteros](https://puppet.com/), [Ansible](https://www.ansible.com/) [AWX](https://github.com/ansible/awx) / [Torre](https://www.ansible.com/products/tower) etc) para garantizar que su automatización está implementando lo correcto y que cualquier modificación y prueba ad-hoc se haya retroportado correctamente a Git

##### Infraestructura - Internet - Web, DNS, SSL, Dominios

*   `check_ssl_cert.pl` - Comprobador de certificados SSL: comprueba la caducidad del certificado (días), valida el dominio, la cadena de confianza, SNI, dominios comodín, certificados SAN con soporte multidominio. El soporte de la cadena de confianza es importante al crear su JKS o paquetes de certificados para incluir certificados intermedios, de lo contrario, ciertos dispositivos móviles no validan el SSL a pesar de que puede funcionar en su navegador de escritorio.
*   `check_dns.pl` - Comprobador de consultas DNS avanzado que admite registros NS para su nombre de dominio público, registros MX para sus servidores de correo, SOA, SRV, TXT, así como registros A y PTR. Puede especificar opcionalmente `--expected` literal o `--regex` resultados (que está anclado para la seguridad) para una validación estricta para garantizar que todos los registros devueltos sean esperados y autorizados. El registro, el tipo y los resultados se generan junto con los datos de tiempo de consulta DNS para graficar el rendimiento de DNS
*   `check_whois.pl` - Compruebe los días de caducidad del dominio restantes y los detalles de registro coinciden con lo esperado
*   `check_pingdom_*.py` - comprobaciones [Pingdom](https://www.pingdom.com/) estados, tiempos de respuesta, últimos tiempos comprobados, créditos SMS

##### Infraestructura - Linux - OS, Red, Puppet, RAID, SSH, Clusters, Yum Actualizaciones de seguridad

*   `check_puppet.rb` - a fondo, averigüe cuándo [Títere](https://puppet.com/) deja de aplicar correctamente los manifiestos, si está en el entorno correcto, si está --deshabilitado, versión de títere correcta, etc.
*   `check_disk_write.pl` - canary write test, captura particiones que Linux se vuelve a montar automáticamente de solo lectura cuando detecta errores de E/S de almacenamiento subyacentes (a menudo causados por dispositivos de bloque que funcionan mal, matrices raid, discos defectuosos), ver también `check_linux_disk_mounts_read_only.py`
*   `check_linux_*.pl/.py` - comprueba la RAM utilizada, los modificadores de contexto de la CPU, los descriptores de archivos del sistema, los errores de interfaz / modo promiscoso / dúplex / velocidad / MTU / estadísticas, la carga normalizada por núcleo de CPU (más útil que el complemento de check_load predeterminado que necesitaría diferentes configuraciones para hardware heterogéneo), configuración de zona horaria, usuarios / grupos presentes (por ejemplo. La integración PAM/LDAP/SSSD está funcionando), UID/GIDs duplicados (ayuda a detectar cuentas uid 0 no fiables y configuraciones erróneas de superposición de rango de ID LDAP vs ID local más comunes), check groups.allow contiene solo grupos específicos, las páginas enormes están deshabilitadas (a menudo se recomiendan para sistemas Big Data y NoSQL como Hadoop y MongoDB), cualquier sistema de archivos de solo lectura (más de un barrido que de `check_disk_write.pl`, con include/exclude regex)
*   `check_ssh_login.pl` - realiza un inicio de sesión SSH completo con nombre de usuario y contraseña, bueno para probar que su infraestructura Dell DRAC / HP iLO está correctamente protegida y accesible. También funciona para sus servidores Linux e incluso Mac OSX
*   `older/check_*raid.py` - Comprobaciones de controladores RAID / matrices para controladores 3ware, LSI MegaRaid / Dell PERC (están renombrados de LSI) y software Linux MD Raid. También recomiendo el ampliamente utilizado [Comprobación de Dell OpenManage](http://folk.uio.no/trondham/software/check_openmanage.html)
*   `check_*_version*.pl/.py` - comprobaciones que ejecutan versiones de software: originalmente escritas para detectar inconsistencias de versiones en grandes clústeres de servidores y actualizaciones fallidas / parciales en grandes infraestructuras automatizadas. Ahora también se utiliza para comprobar [Estibador](https://www.docker.com/) Las imágenes etiquetadas contienen las versiones correctas del software esperado (lo que valida dos veces que otros programas en este y otros repositorios de GitHub se han probado con todas las versiones esperadas)
    `check_cluster_version.pl` se puede usar para vincular versiones devueltas desde muchos servidores diferentes (pasándolo sus salidas a través de macros nagios) para garantizar que un clúster ejecute la misma versión de software, incluso si no aplica una aplicación particular `--expected` versión en sistemas individuales
*   `check_yum.py/.pl` - Comprobador de actualizaciones de seguridad yum ampliamente utilizado para sistemas RHEL 5 - 8 que datan de 2008. Encontrará bifurcaciones de esto, incluido NagiosExchange, pero vuelva a unificar esta versión actualizada central. También tiene una versión perl que es un puerto recto más nuevo con un código más conciso y un mejor respaldo de la biblioteca, así como un tiempo de espera automático configurable. Para aquellos que ejecutan sistemas basados en Debian como Ubuntu, consulte `check_apt` del `nagios-plugins-basic` paquete.

... y hay muchos más plugins de los que tenemos espacio para enumerar aquí, ¡echa un vistazo!

Esta base de código está en desarrollo activo y hay muchos más plugins geniales pendientes de importación.

Ver también [otros Plugins de Nagios de 3rd Party](https://github.com/HariSekhon/Nagios-Plugins#more-3rd-party-nagios-plugins) te puede interesar.

##### Compatibilidad / Plugins de traducción

Estos le permiten usar cualquier complemento nagios estándar con otros sistemas de monitoreo que no sean de estilo Nagios prefijando el comando del complemento nagios con estos programas, que ejecutarán y traducirán las salidas:

*   `adapter_csv.py` - ejecuta y traduce la salida de cualquier plugin estándar de nagios a formato CSV
*   `adapter_check_mk.py` - ejecuta y traduce la salida de cualquier complemento estándar de nagios a Check_MK formato de complemento local
*   `adapter_geneos.py` - ejecuta y traduce la salida de cualquier plugin estándar de nagios al formato CSV de Geneos

### Uso --ayuda

Todos los plugins vienen con `--help` que enumera todas las opciones, así como dar una descripción del programa, a menudo incluyendo una cuenta detallada de lo que está registrado en el código. También puede encontrar comandos de ejemplo en el `tests/` directorio.

Las variables de entorno se admiten para mayor comodidad y también para ocultar las credenciales de ser expuestas en la lista de procesos, por ejemplo. `$PASSWORD`. Estos se indican en el `--help` descripciones entre paréntesis junto a cada opción y a menudo tienen anulaciones más específicas con mayor precedencia, por ejemplo. `$ELASTICSEARCH_HOST` tiene prioridad sobre `$HOST`, `$REDIS_PASSWORD` tiene prioridad sobre `$PASSWORD` etc.

Asegúrese de ejecutar el [compilación automatizada](https://github.com/HariSekhon/Nagios-Plugins#automated-build-from-source) o instale primero los módulos Perl CPAN / Python PyPI requeridos antes de llamar `--help`.

### Soporte de seguridad Kerberos

Los plugins basados en Perl HTTP Rest tienen soporte implícito de Kerberos a través de LWP siempre y cuando el módulo LWP::Authen::Negotiate CPAN esté instalado (parte del módulo automatizado `make` construir). Esto buscará un TGT válido en el entorno (`$KRB5CCNAME`) y si se encuentra lo usará para SPNego.

La mayoría de los complementos basados en Python HTTP Rest para tecnologías / API con autenticación tienen un `--kerberos` interruptor que reemplaza `--username/--password` y se puede utilizar en tecnologías que admiten la autenticación Kerberos de SPNego. Utilizará el TGT de la memoria caché del entorno (`$KRB5CCNAME`) o si `$KRB5_CLIENT_KTNAME` Está presente en Kinit desde la ficha Clave especificada en `$KRB5_CLIENT_KTNAME` a una ruta única por complemento para evitar conflictos de caché de credenciales si es necesario usar credenciales diferentes para diferentes tecnologías.

Automatización de kerberos tickets: si ejecuta un complemento a mano para probarlo, puede iniciar su TGT a través del `kinit` antes de ejecutar el complemento, pero si se ejecuta automáticamente en un servidor de supervisión, utilice el estándar `k5start` kerberos utilidad como servicio para iniciar automáticamente y renovar automáticamente su TGT para que sus complementos siempre se autentiquen en los servicios Kerberized con un TGT válido actual.

Para usar diferentes credenciales kerberos por plugin puedes `export KRB5CCNAME=/different/path` antes de ejecutar cada plugin, y tener varios `k5start` instancias manteniendo cada una.

### Pruebas de alta disponibilidad / multimaestro

Las pruebas de alta disponibilidad y configuraciones multimaestro se realizan mejor a través de un equilibrador de carga.

Las configuraciones de HAProxy se proporcionan para todas las tecnologías principales bajo el [haproxy-configs/](https://github.com/HariSekhon/HAProxy-configs) para muchas de las tecnologías probadas en este proyecto, incluyendo:

*   Hadoop HDFS NameNodes
*   Administradores de recursos de Hadoop Yarn
*   Servidores HBase Masters, Stargate Rest y Thrift
*   Casandra
*   Taladro Apache
*   Impala
*   Coordinadores de Presto SQL
*   Kubernetes API
*   Oozie
*   SolrCloud
*   Elasticsearch

#### Ver también

Lo siguiente se extrae de mi [Repositorio de DevOps Python Tools](https://github.com/HariSekhon/DevOps-Python-tools) (actualmente uno de mis repositorios favoritos):

*   `find_active_server.py` - devuelve el primer servidor en buen estado disponible o determina el maestro activo en configuraciones de alta disponibilidad. Las pruebas configurables incluyen socket, http, https, ping, url con coincidencia de contenido regex opcional y es multiproceso para mayor velocidad. Útil para predeterminar un servidor que se pasará a herramientas que solo toman un solo `--host` argumento pero para el que la tecnología ha agregado posteriormente soporte multimaestro o maestros de espera activo (por ejemplo. Hadoop, HBase) o donde desea consultar la información de todo el clúster disponible desde cualquier par en línea (por ejemplo. Elasticsearch, clústeres de RabbitMQ). Esto se descarga de mi [Repositorio de DevOps Python Tools](https://github.com/HariSekhon/DevOps-Python-tools) como parte de la construcción y colocado en el nivel superior. Tiene la capacidad de extender cualquier complemento de nagios para admitir múltiples hosts de manera genérica si no tiene un equilibrador de carga front-end para ejecutar la comprobación. Ejemplo de uso:

<!---->

    ./check_elasticsearch_cluster_status.pl --host $(./find_active_server.py --http --port 9200 node1 node2 node3)

Ahora también hay programas subclasificados simplificados para que no tenga que averiguar los conmutadores para servicios más complejos como Hadoop y HBase, ¡solo proporcione hosts como argumentos simples y devolverán el maestro activo actual!

*   `find_active_hadoop_namenode.py`
*   `find_active_hadoop_yarn_resource_manager.py`
*   `find_active_hbase_master.py`
*   `find_active_hbase_thrift.py`
*   `find_active_hbase_stargate.py`
*   `find_active_cassandra.py`
*   `find_active_apache_drill.py`
*   `find_active_impala.py`
*   `find_active_presto_coordinator.py`
*   `find_active_kubernetes_api.py`
*   `find_active_oozie.py`
*   `find_active_solrcloud.py`
*   `find_active_elasticsearch.py`

Estos son especialmente útiles para secuencias de comandos ad-hoc o pruebas rápidas de línea de comandos.

### Configuración para la validación de dominio estricto / FQDN

Las validaciones estrictas incluyen host/dominio/FQDNs que utilizan TLD que se rellenan a partir de la lista oficial de la IANA. Esto se hace a través de la [Lib](https://github.com/HariSekhon/lib) y [PyLib](https://github.com/HariSekhon/pylib) submódulos para complementos de Perl y Python respectivamente: consulte esos repositorios para obtener detalles sobre la configuración para permitir TLD personalizados como `.local` o `.intranet` (ambos ya son compatibles de forma predeterminada, ya que son personalizaciones bastante comunes).

### Calidad

La mayoría de los plugins de los que he leído [Intercambio de Nagios](https://exchange.nagios.org/) y Monitoring Exchange (ahora [Intercambio de Icinga](https://exchange.icinga.org/)) en la última década no han sido de la calidad requerida para ejecutarse en entornos de producción en los que he trabajado (alguna vez he visto plugins escritos en Bash con poca validación, o simplemente plugins de 200-300 líneas sin validación robusta de entrada/salida y manejo de errores, lo que resulta en "DESCONOCIDO: (null)" cuando algo sale mal - justo cuando los necesitas - entonces ya sabes a lo que me refiero). Eso me llevó a escribir mis propios plugins cada vez que tenía una idea o requisito.

Eso evolucionó naturalmente en esto, una colección relativamente avanzada de complementos de Nagios, especialmente cuando comencé a estandarizar y reutilizar el código entre complementos y a mejorar la calidad de todos esos complementos mientras lo hacía.

##### Metas

*   Mensajes de error específicos para ayudar a acelerar el análisis de causa raíz
*   comportamiento consistente
*   interruptores estandarizados
*   validación estricta de entrada/salida en todas las etapas, escrita para seguridad y robustez
*   reutilización de código, especialmente para validaciones de entrada/salida más complejas y manejo de errores
*   múltiple `--verbose` niveles y `--debug` modo
*   `--warning/--critical` umbrales con soporte de rango, en forma de `min:max` (`@` prefijo invierte para esperar valor fuera de este rango)
*   soporte para el uso de `$USERNAME` y `$PASSWORD` variables de entorno, así como anulaciones más específicas (por ejemplo. `$MYSQL_USERNAME`, `$REDIS_PASSWORD`) para dar a los administradores la opción de evitar fugas `--password` credenciales en la lista de procesos para que todos los usuarios las vean
*   tiempos de espera automáticos
*   [Integraciones de Metrics Graphing](https://github.com/HariSekhon/Nagios-Plugins#metrics-graphing-integrations)  - [Grafito](https://graphiteapp.org/), [InfluxDB](https://www.influxdata.com/), [OpenTSDB](http://opentsdb.net/) y [PNP4Nagios](https://docs.pnp4nagios.org/) pueden todos los gráficos automáticos de los datos de estos complementos
*   [Integración continua](https://travis-ci.org/HariSekhon/nagios-plugins) con pruebas para escenarios de éxito y fracaso:
    *   pruebas unitarias para el soporte personalizado [Perl](https://github.com/HariSekhon/lib) y [pitón](https://github.com/HariSekhon/pylib) bibliotecas
    *   pruebas de integración de los programas de nivel superior que utilizan las bibliotecas para cosas como el análisis de opciones
    *   [pruebas funcionales](https://github.com/HariSekhon/Nagios-Plugins/tree/master/tests) para los programas de nivel superior que utilizan [Contenedores Docker](https://hub.docker.com/u/harisekhon/) para cada tecnología (por ejemplo. Cassandra, Elasticsearch, Hadoop, HBase, ZooKeeper, Memcached, Neo4j, MongoDB, MySQL, Riak, Redis...)
*   fácil desarrollo rápido de nuevos plugins Nagios robustos de alta calidad con líneas mínimas de código

Varios complementos se han fusionado y reemplazado con enlaces simbólicos a los complementos unificados que marcan sus áreas de funcionalidad, similar a algunos complementos de la colección estándar de complementos nagios.

Algunos complementos, como los relacionados con Redis y Couchbase, también tienen diferentes modos y exponen diferentes opciones cuando se llaman como diferentes nombres de programas, por lo que esos enlaces simbólicos no son solo cosméticos. Un ejemplo de esto es la replicación de escritura, que expone opciones adicionales para leer desde un esclavo después de escribir en el maestro para comprobar que la replicación funciona al 100%.

La optimización de Perl ePN no es compatible en este momento, ya que estaba ejecutando 13,000 comprobaciones de producción por servidor Nagios hace años (alrededor de 2010) sin optimización de ePN: no vale la pena el esfuerzo y no está disponible en ninguno de los otros idiomas de todos modos.

Los complementos de Python se compilan previamente como parte de la compilación automatizada.

El escalado moderno debe hacerse utilizando computación distribuida, los ejemplos de código abierto incluyen [Icinga2](https://www.icinga.com/docs/icinga2/latest/doc/06-distributed-monitoring/) y [Shinken](http://shinken.readthedocs.io/en/latest/07\_advanced/scaling-shinken.html#advanced-scaling-shinken). Shinken's [documentación](http://shinken.readthedocs.io/en/latest/07\_advanced/distributed-shinken.html?highlight=150000%20checks/5min) cita un servidor promedio de 4 núcleos @ 3Ghz como compatible con 150,000 comprobaciones por 5 minutos, lo que se alinea con mi propia experiencia con Nagios Core. El uso del hardware más reciente y la configuración adecuada probablemente podría resultar en una escala aún mayor antes de tener que pasar a la arquitectura de monitoreo distribuido.

##### Bibliotecas

Después de haber escrito una gran cantidad de nagios plugins en los últimos 10 años en una variedad de lenguajes (Python, Perl, Ruby, Bash, VBS) abstraje los componentes comunes de un buen programa robusto de Nagios Plugin en bibliotecas de componentes reutilizables que aprovecho mucho en todos mis plugins modernos y otros programas que se encuentran bajo mis otros repositorios aquí en GitHub,  que ahora están escritos principalmente en Perl o Python utilizando estas bibliotecas personalizadas, por razones de desarrollo rápido y conciso y velocidad de ejecución.

Estas bibliotecas permiten escribir código de calidad de producción validado mucho más a fondo, para lograr en un rápido 200 líneas de Perl o Python lo que de otro modo podría tomar 2000-3000 líneas para hacerlo correctamente (incluyendo algunos de los códigos de soporte más complicados, como funciones de validación robustas con regexs largos y complejos con pruebas unitarias, tiempos de espera automáticos configurables, lógica de rango de umbral crítico / de advertencia,  opciones comunes y uso generado, múltiples niveles de verbosidad, modo de depuración, etc.), reduciendo drásticamente el tiempo para escribir complementos de alta calidad a solo horas y, al mismo tiempo, mejorando enormemente la calidad del código final a través de la reutilización del código, así como beneficiándose de futuras mejoras genéricas en las bibliotecas subyacentes.

Esto le da a cada complemento la apariencia engañosa de ser muy corto, porque solo parte de la lógica central de lo que está tratando de lograr se muestra en el complemento en sí, principalmente la composición de las funciones de utilidad, y el manejo de errores a menudo también se maneja en bibliotecas personalizadas, por lo que puede parecer que una simple extracción de campo de una línea o una llamada a la función de utilidad 'curl()' o 'open_file()' no tiene manejo de errores a su alrededor. pero bajo el capó, el manejo de errores se maneja dentro de la función dentro de una biblioteca, lo mismo para la conexión HBase Thrift API, la conexión API Redis, etc., por lo que el código del cliente como se ve en los complementos de nivel superior sabe que tuvo éxito o, de lo contrario, el marco habría fallado con un mensaje de error específico como "conexión rechazada", etc. hay una gran cantidad de código de verificación de errores enterrado y muchas funciones de utilidad, por lo que muchas operaciones se convierten en una sola línea en el nivel superior en lugar de enormes programas que son difíciles de leer y mantener.

He tratado de mantener la calidad aquí alta, por lo que muchos complementos que he escrito a lo largo de los años no han llegado a esta colección, todavía hay muchos pendientes de importación, un par de otros `check_nsca.pl` y `check_syslog-ng_stats.pl` están en el `more/` hasta que llegue a reintegrarlos y probarlos con mi marco actual para modernizarlos, aunque aún deberían funcionar con los pequeños utils.pm de la colección estándar de complementos de nagios.

Soy consciente de Nagios::P lugin, pero mis bibliotecas tienen muchas más funciones de utilidad y las he escrito para que sean muy convenientes de desarrollar.

###### Plugins más antiguos

Es posible que algunos complementos más antiguos no se adhieran a todos los criterios anteriores, por lo que la mayoría se han archivado bajo el `older/` (fueron utilizados por personas en producción, así que no quería eliminarlos por completo). Los complementos más antiguos también indican que no los he ejecutado ni actualizado en unos pocos años, por lo que están en modo de mantenimiento básico y pueden requerir pequeños ajustes o actualizaciones.

Si eres nuevo, recuerda revisar el `older/` directorio para más complementos que son menos actuales pero que pueden resultarle útiles, como las comprobaciones RAID para Linux MD Raid, 3ware / LSI MegaRaid / Dell Perc Raid Controllers (que en realidad son renombrados LSI MegaRaid para que pueda usar la misma verificación - También recomiendo el ampliamente utilizado [Comprobación de Dell OpenManage](http://folk.uio.no/trondham/software/check_openmanage.html)).

### Contribuciones

Comentarios, solicitudes de funciones, mejoras y parches son bienvenidos.

Los parches se aceptan en forma de [Solicitudes de extracción de Github](https://github.com/HariSekhon/Nagios-Plugins/pulls), para lo cual recibirá la atribución automáticamente a medida que Github rastree estas fusiones.

### Soporte para actualizaciones / correcciones de errores / solicitudes de funciones

Por favor, plantee un [Ticket de problema de Github](https://github.com/HariSekhon/Nagios-Plugins/issues) para si necesita actualizaciones, correcciones de errores o nuevas funciones. [Solicitudes de extracción de Github](https://github.com/HariSekhon/Nagios-Plugins/pulls) son más que bienvenidos.

Dado que hay muchos programas que cubren muchas tecnologías diferentes en este proyecto, recuerde mirar las versiones de software con las que se escribió / probó cada programa (documentadas en --help para cada programa, que también se encuentran cerca de la parte superior del código fuente en cada programa). Las versiones más nuevas del software parecen cambiar mucho en estos días, especialmente en el espacio de Big Data y NoSQL, por lo que los complementos pueden requerir actualizaciones para las versiones más nuevas.

Por favor, asegúrese de haber corrido `make update` primero para extraer las últimas actualizaciones, incluidos los submódulos de la biblioteca, y crear las últimas dependencias de módulos CPAN / PyPI (consulte [Configuración rápida](https://github.com/HariSekhon/Nagios-Plugins#quick-setup) arriba).

Asegúrese de ejecutar el código a mano en la línea de comandos con `-v -v -v` para obtener resultados de depuración adicionales y pegar la salida completa en el ticket de emisión. Si desea anonimizar sus nombres de host / direcciones IP, etc., puede usar el `scrub.pl` herramienta encontrada en mi [Repositorio de DevOps Perl Tools](https://github.com/HariSekhon/DevOps-Perl-tools).

### Instrucciones de compilación detalladas

#### Compilación automatizada

```

git clone https://github.com/HariSekhon/Nagios-Plugins

cd nagios-plugins

make build

```

Algunos plugins como `check_yum.py` se puede copiar de forma independiente, pero la mayoría de los complementos más nuevos y sofisticados requieren las bibliotecas coubicadas que he escrito, por lo que debe `git clone && make` En cada equipo, implemente este código o simplemente utilice el precompilado [Imagen de Docker](https://hub.docker.com/r/harisekhon/nagios-plugins) que tiene todos los plugins y dependencias en su interior.

Es posible que deba instalar el paquete del sistema GNU make si el `make` no se encuentra el comando (`yum install make` / `apt-get install make`)

Para crear solo las dependencias de Perl o Python para el proyecto, puede hacer `make perl` o `make python`.

Si solo desea utilizar un complemento, puede hacer `make perl-libs` o `make python-libs` y luego simplemente instale una o dos dependencias potenciales específicas de ese complemento si tiene alguna, lo cual es mucho más rápido que construir todo el proyecto.

`make` builds instalará dependencias yum rpms / apt debs automáticamente, así como una carga de bibliotecas Perl CPAN y Python PyPI. Para elegir qué instalar, siga el [Compilación manual](https://github.com/HariSekhon/Nagios-Plugins#manual-build) en su lugar

Esto se ha convertido en un proyecto bastante grande y tomará al menos 10 minutos construirlo. La compilación está automatizada y probada en sistemas RHEL / CentOS 5/6/7 y Debian / Ubuntu.

Asegúrese de que /usr/local/bin esté en su `$PATH` Cuando se ejecuta, haga lo contrario, no podrá encontrar `cpanm`

##### Python VirtualEnv / Perlbrew instalaciones localizadas

La compilación automatizada usará 'sudo' para instalar las bibliotecas Perl CPAN y Python PyPI requeridas en el sistema a menos que se ejecute como root o detecte estar dentro de Perlbrew o VirtualEnv. Si desea instalar algunas de las bibliotecas comunes de Perl / Python como Net: :D NS y LWP: :\* utilizando sus paquetes de sistema operativo en lugar de instalar desde CPAN / PyPI, siga el [Compilación manual](https://github.com/HariSekhon/Nagios-Plugins#manual-build) en su lugar.

#### Configuración sin conexión

Descargue los nagios Plugins, Lib y Pylib git repos como archivos zip:

https://github.com/HariSekhon/Nagios-Plugins/archive/master.zip

https://github.com/HariSekhon/lib/archive/master.zip

https://github.com/HariSekhon/pylib/archive/master.zip

Descomprima todo y mueva Lib y Pylib al `lib` y `pylib` carpetas bajo plugins de nagios.

    unzip nagios-plugins-master.zip
    unzip pylib-master.zip
    unzip lib-master.zip

    mv -v nagios-plugins-master nagios-plugins
    mv -v pylib-master pylib
    mv -v lib-master lib
    mv -vf pylib nagios-plugins/
    mv -vf lib nagios-plugins/

Proceda a instalar los módulos CPAN y PyPI para cualquier programa que desee utilizar utilizando su procedimiento habitual, generalmente un servidor proxy o espejo interno para CPAN y PyPI, o rpms / debs (algunas bibliotecas están empaquetadas por distribuciones de Linux).

Todos los módulos cpan se enumeran en `setup/cpan-requirements*.txt` y `lib/setup/cpan-requirements*.txt`.

Todos los módulos PyPI se enumeran en `requirements.txt` y `pylib/requirements.txt`.

Ejemplo de PyPI Mirror interno ([JFrog Artifactory](https://jfrog.com/artifactory/), [CloudRepo](https://cloudrepo.io) o similar):

    sudo pip install --index https://host.domain.com/api/pypi/repo/simple --trusted host.domain.com -r requirements.txt -r pylib/requirements.txt

Ejemplo de proxy:

    sudo pip install --proxy hari:mypassword@proxy-host:8080 -r requirements.txt -r pylib/requirements.txt

##### Mac OS X

La compilación automatizada también funciona en Mac OS X, pero deberá descargarla e instalarla [Apple XCode](https://developer.apple.com/download/) bibliotecas de desarrollo. También te recomiendo que consigas [Homebrew](https://brew.sh/) para instalar otras herramientas y bibliotecas útiles que pueda necesitar como OpenSSL, Snappy y MySQL para sus encabezados de desarrollo y herramientas como wget (estos paquetes se instalan automáticamente si Homebrew está instalado en Mac OS X):

    brew install openssl snappy mysql wget

###### Soluciones de OpenSSL

###### Perl CPAN Cripta::SSLeay

Para evitar el siguiente error de instalación de cpan:

    fatal error: 'openssl/opensslv.h' file not found
    #include <openssl/opensslv.h>

especifique la ruta de acceso a la librería OpenSSL instalada por HomeBrew:

    sudo OPENSSL_INCLUDE=/usr/local/opt/openssl/include OPENSSL_LIB=/usr/local/opt/openssl/lib cpan Crypt::SSLeay

###### Perl CPAN DBD::mysql

Asegúrese de que el `DBI` El módulo CPAN está instalado, así como el `openssl` Paquete HomeBrew.

Es posible que deba agregar la ruta de la biblioteca OpenSSL explícitamente en `mysql_config` para evitar el siguiente error:

    Checking if libs are available for compiling...
    Can't link/include C library 'ssl', 'crypto', aborting.

Una vez que esté seguro de que OpenSSL está instalado a través de HomeBrew (realizado como parte de la compilación automatizada), busque `mysql_config` y edite la línea

    libs="-L$pkglibdir"

Para

    libs="-L$pkglibdir -L/usr/local/opt/openssl/lib"

###### Python Pip

Puede obtener errores al intentar instalar en las rutas de la biblioteca de Python incluso como root en las versiones más nuevas de Mac, a veces esto es causado por pip 10 vs pip 9 y la degradación funcionará para evitarlo:

    sudo pip install --upgrade pip==9.0.1
    make
    sudo pip install --upgrade pip
    make

##### Comprobaciones de ZooKeeper

Si desea utilizar cualquiera de las comprobaciones basadas en znode de contenido de ZooKeeper (por ejemplo, para HBase / SolrCloud, etc.) basadas en check_zookeeper_znode.pl o cualquiera de los programas check_solrcloud\_ \* \_zookeeper.pl, también deberá instalar las bibliotecas de zookeeper que tienen un destino de compilación separado debido a que tiene que instalar enlaces C, así como la biblioteca en sí en el sistema local. Esto buscará explícitamente el ZooKeeper 3.4.8 probado, tendría que actualizar el `ZOOKEEPER_VERSION` en el Makefile si desea una versión diferente.

    make zookeeper

Esto descarga, construye e instala los enlaces C de ZooKeeper que Net::ZooKeeper necesita. Para limpiar el directorio de trabajo después, ejecute:

    make clean-zookeeper

#### Compilación manual

Busque los repositorios de mi biblioteca que se incluyen como submódulos (se comparten entre este y otros repositorios que contienen varios programas que he escrito a lo largo de los años).

```

git clone https://github.com/HariSekhon/Nagios-Plugins

cd nagios-plugins

git submodule init

git submodule update

```

A continuación, instale los módulos CpaN y Python PyPI de Perl como se indica en las siguientes secciones.

Para Mac OS X, consulte el [Mac OS X](https://github.com/HariSekhon/Nagios-Plugins#mac-os-x) de las instrucciones de compilación automatizada.

##### Módulos CPAN de Perl

Si instala los módulos CpaN o Python PyPI de Perl a través de su administrador de paquetes o a mano en lugar de a través del [Compilación automatizada desde el origen](https://github.com/HariSekhon/Nagios-Plugins#automated-build-from-source) y, a continuación, lea el [requisitos.txt](https://github.com/HariSekhon/Nagios-Plugins/blob/master/requirements.txt) y [setup/cpan-requirements.txt](https://github.com/HariSekhon/Nagios-Plugins/blob/master/setup/cpan-requirements.txt) para las listas de módulos Python PyPI y Perl CPAN respectivamente que necesita instalar.

Puede instalar la lista completa de módulos CPAN utilizando este comando:

    sudo cpan $(sed 's/#.*//' setup/cpan-requirements*.txt lib/setup/cpan-requirements*.txt)

e instale la lista completa de módulos PyPI utilizando este comando:

    sudo pip install -r requirements.txt -r pylib/requirements.txt

###### Net::ZooKeeper (para varias comprobaciones de contenido de ZooKeeper para Kafka, HBase, SolrCloud, etc.)

    check_zookeeper_znode.pl
    check_zookeeper_child_znodes.pl
    check_hbase_*_znode.pl
    check_solrcloud_*_zookeeper.pl

Los programas enumerados anteriormente requieren el módulo Net::ZooKeeper Perl CPAN, pero esto no es simple `cpan Net::ZooKeeper`, que fracasará. Siga estas instrucciones con precisión o depure bajo su propio riesgo:

    # install C client library
    export ZOOKEEPER_VERSION=3.4.8
    [ -f zookeeper-$ZOOKEEPER_VERSION.tar.gz ] || wget -O zookeeper-$ZOOKEEPER_VERSION.tar.gz http://www.mirrorservice.org/sites/ftp.apache.org/zookeeper/zookeeper-$ZOOKEEPER_VERSION/zookeeper-$ZOOKEEPER_VERSION.tar.gz
    tar zxvf zookeeper-$ZOOKEEPER_VERSION.tar.gz
    cd zookeeper-$ZOOKEEPER_VERSION/src/c
    ./configure
    make
    sudo make install

    # now install Perl module using C library with the correct linking
    cd ../contrib/zkperl
    perl Makefile.PL --zookeeper-include=/usr/local/include/zookeeper --zookeeper-lib=/usr/local/lib
    LD_RUN_PATH=/usr/local/lib make
    sudo make install

Después de esta comprobación, está correctamente instalado haciendo
`perl -e "use Net::ZooKeeper"`
que no debería devolver errores si tiene éxito.

### Otras dependencias

Algunos complementos, especialmente los que se encuentran en el directorio más antiguo, como los que verifican los controladores raid 3ware / LSI, SVN, VNC, etc., requieren binarios externos para funcionar, pero los complementos le dirán si faltan. Consulte los sitios web de los respectivos proveedores de 3ware, LSI, etc. para obtener esos binarios y luego volver a ejecutar esos complementos.

El `check_puppet.rb` El plugin utiliza las bibliotecas Ruby nativas de Puppet para analizar la configuración de Puppet y, como tal, solo se ejecutará cuando Puppet esté instalado correctamente.

El `check_logserver.py` El complemento "Syslog to MySQL" necesitará que se instale el módulo Python MySQL que debería poder encontrar a través de su administrador de paquetes. Si usa RHEL/CentOS:

    sudo yum install MySQL-python

o intente instalar a través de pip, pero esto requiere que MySQL se instale localmente para construir el huevo de Python ...

    sudo easy_install pip
    sudo pip install MySQL-python

### Actualización

Correr `make update`. Esto git pull y luego git submodule update que es necesario para recoger las actualizaciones de la biblioteca correspondientes.

Si actualiza a menudo y desea git pull + actualización de submódulo rápidamente, pero omita la reconstrucción de todas esas dependencias cada vez, ejecute `make update-no-recompile` (se perderán nuevas dependencias de la biblioteca - do full `make update` si tiene problemas).

#### Ensayo

Hay conjuntos completos de pruebas de varios niveles contra este repositorio y sus bibliotecas.

[Integración continua](https://travis-ci.org/HariSekhon/nagios-plugins) se ejecuta en este repositorio con pruebas para escenarios de éxito y error:

*   Pruebas unitarias: más de 1200 pruebas unitarias que cubren el [Biblioteca Perl](https://github.com/HariSekhon/lib) y [Biblioteca de Python](https://githu.com/harisekhon/pylib)
*   Pruebas de integración comprobando la integración de dependencias, el uso `--help` generación, etc.
*   Pruebas personalizadas para varios lenguajes y sistemas de compilación, linting, estilo de codificación y otras estandarizaciones
*   Pruebas funcionales - Más de 800 funcionales completos [pruebas/](https://github.com/HariSekhon/Nagios-Plugins/tree/master/tests) usando docenas de [Imágenes de Docker](https://hub.docker.com/u/harisekhon/) para pruebas completas de API de las diversas tecnologías

Para activar todas las pruebas ejecutadas:

    make test

que comenzará con las bibliotecas subyacentes, luego pasará a las pruebas de integración de nivel superior y finalmente a las pruebas funcionales utilizando contenedores docker si docker está disponible.

##### Errores y soluciones alternativas

###### Error de carga automática de la dependencia de Kafka NetAddr/IP/InetBase

Si encuentra el siguiente error al intentar utilizar `check_kafka.pl`:

`Can't locate auto/NetAddr/IP/InetBase/AF_INET6.al in @INC`

Este es un error ascendente relacionado con el cargador automático, que puede solucionar editando `NetAddr/IP/InetBase.pm` y agregar la siguiente línea explícitamente cerca de la parte superior justo después `package NetAddr::IP::InetBase;`:

`use Socket;`

En Linux esto es a menudo en `/usr/local/lib64/perl5/NetAddr/IP/InetBase.pm` y en Mac `/System/Library/Perl/Extras/<version>/NetAddr/IP/InetBase.pm`.
Puede encontrar la ubicación utilizando `perl_find_library_path.pl NetAddr::IP::InetBase` o `perl_find_library_path.sh NetAddr::IP::InetBase` del [Herramientas DevOps Perl](https://github.com/HariSekhon/DevOps-Perl-tools) y [Herramientas DevOps Bash](https://github.com/HariSekhon/DevOps-Bash-tools) Repos.

Es posible que también deba instalar Socket6 desde CPAN.

Esta solución ahora está totalmente automatizada en la compilación Make mediante la aplicación de parches a la `NetAddr/IP/InetBase.pm` y siempre incluyendo Socket6 en dependencias (ACTUALIZACIÓN: esta solución está rota en las versiones recientes de Mac debido a la adición de Protección de integridad del sistema que no permite editar los archivos del sistema incluso con sudo a root - una solución sería instalar las bibliotecas en un PERLBREW local y arreglar allí).

Alternativamente, puede probar la versión de Python `check_kakfa.py` que funciona de manera similar.

###### Dependencia de MongoDB Error de biblioteca de solo lectura

El controlador MongoDB Perl de CPAN no parece compilarse correctamente en sistemas basados en RHEL5. Se consideró la reescritura de PyMongo, pero la extensa biblioteca de funciones da como resultado una mejor calidad de código para los complementos de Perl, es más fácil actualizar su sistema operativo a RHEL6.

El controlador MongoDB Perl se compila en RHEL6, pero hay un pequeño error en el módulo CPAN readonly que utiliza el módulo CPAN de MongoDB. Cuando intenta llamar a Readonly::XS, una MAGIC_COOKIE discrepancia da como resultado el siguiente error:

    Readonly::XS is not a standalone module. You should not use it directly. at /usr/local/lib64/perl5/Readonly/XS.pm line 34.

La solución consiste en editar el módulo Readonly y comentar el `eval 'use Readonly::XS'` en la línea 33 del módulo Readonly.

Esto se encuentra aquí en Linux:

    /usr/local/share/perl5/Readonly.pm

y aquí en Max OS X:

    /Library/Perl/5.16/Readonly.pm

###### IO::Socket::SSL no respeta ignorar los certificados autofirmados en las versiones recientes, por ejemplo. 2.020

Las versiones recientes de IO::Socket::SSL (2.020) parecen no respetar las opciones para ignorar los certificados autofirmados. La solución consiste en crear el archivo táctil oculto a continuación en el mismo directorio de nivel superior que la biblioteca para que incluya y use Net::SSL en lugar de IO::Socket::SSL.

    touch .use_net_ssl

#### Problemas de verificación de certificados SSL de Python

Si terminas con un error como:

    [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:765)

Puede ser causado por un problema con las bibliotecas subyacentes de Python + debido a cambios en OpenSSL y certificados. Una solución rápida es hacer lo siguiente:

    sudo pip uninstall -y certifi &&
    sudo pip install certifi==2015.04.28

## Repositorios relacionados

*   [Kafka Scala Nagios Plugin](https://github.com/HariSekhon/Nagios-Plugin-Kafka) - La versión Scala de los complementos python y Perl Kafka que se encuentra aquí, la compilación proporciona un jar autónomo con soporte Kerberos.

*   [Herramientas DevOps Bash](https://github.com/HariSekhon/DevOps-Bash-tools) - Más de 800 scripts DevOps Bash, avanzados `.bashrc`, `.vimrc`, `.screenrc`, `.tmux.conf`, `.gitconfig`, CONFIGURACIONES DE CI y biblioteca de código de utilidad - AWS, GCP, Kubernetes, Docker, Kafka, Hadoop, SQL, BigQuery, Hive, Impala, PostgreSQL, MySQL, LDAP, DockerHub, Jenkins, Spotify API & MP3 tools, Git tricks, GitHub API, GitLab API, BitBucket API, Code & build linting, administración de paquetes para Linux / Mac / Python / Perl / Ruby / NodeJS / Golang, y muchas más golosinas aleatorias

*   [SQL Scripts](https://github.com/HariSekhon/SQL-scripts) - Más de 100 scripts SQL - PostgreSQL, MySQL, AWS Athena, Google BigQuery

*   [Plantillas](https://github.com/HariSekhon/Templates) - docenas de plantillas de código y configuración: AWS, GCP, Docker, Jenkins, Terraform, Vagrant, Puppet, Python, Bash, Go, Perl, Java, Scala, Groovy, Maven, SBT, Gradle, Make, GitHub Actions Workflows, CircleCI, Jenkinsfile, Makefile, Dockerfile, docker-compose.yml, M4, etc.

*   [Configuraciones de Kubernetes](https://github.com/HariSekhon/Kubernetes-configs) - Configuraciones yaml de Kubernetes: las mejores prácticas, consejos y trucos se incorporan directamente a las plantillas para futuras implementaciones

*   [Terraforma](https://github.com/HariSekhon/Terraform) - Plantillas terraform para la gestión de AWS / GCP / Azure / GitHub

*   [Herramientas de DevOps Python](https://github.com/HariSekhon/DevOps-Python-tools) - Más de 80 herramientas DevOps CLI para AWS, GCP, Hadoop, HBase, Spark, Log Anonymizer, Ambari Blueprints, AWS CloudFormation, Linux, Docker, Spark Data Converters & Validators (Avro / Parquet / JSON / CSV / INI / XML / YAML), Elasticsearch, Solr, Travis CI, Pig, IPython

*   [Herramientas DevOps Perl](https://github.com/harisekhon/perl-tools) - Más de 25 herramientas DevOps CLI para Hadoop, HDFS, Hive, Solr/SolrCloud CLI, Log Anonymizer, Nginx stats & HTTP(S) URL watchers para granjas web con equilibrio de carga, Dockerfiles & SQL ReCaser (MySQL, PostgreSQL, AWS Redshift, Snowflake, Apache Drill, Hive, Impala, Cassandra CQL, Microsoft SQL Server, Oracle, Couchbase N1QL, Dockerfiles, Pig Latin, Neo4j, InfluxDB), Ambari FreeIPA Kerberos, Datameer, Linux...

*   [Configuraciones de HAProxy](https://github.com/HariSekhon/HAProxy-configs) - Más de 80 haProxy Configs para Hadoop, Big Data, NoSQL, Docker, Elasticsearch, SolrCloud, HBase, Cloudera, Hortonworks, MapR, MySQL, PostgreSQL, Apache Drill, Hive, Presto, Impala, ZooKeeper, OpenTSDB, InfluxDB, Prometheus, Kibana, Graphite, SSH, RabbitMQ, Redis, Riak, Rancher, etc.

*   [Dockerfiles](https://github.com/HariSekhon/Dockerfiles) - Más de 50 imágenes públicas de DockerHub para Docker y Kubernetes - Hadoop, Kafka, ZooKeeper, HBase, Cassandra, Solr, SolrCloud, Presto, Apache Drill, Nifi, Spark, Mesos, Consul, Riak, OpenTSDB, Jython, Advanced Nagios Plugins & DevOps Tools repos en Alpine, CentOS, Debian, Fedora, Ubuntu, Superset, H2O, Serf, Alluxio / Tachyon, FakeS3

El [Herramientas de DevOps Python](https://github.com/HariSekhon/DevOps-Python-tools) & [Herramientas DevOps Perl](https://github.com/HariSekhon/DevOps-Perl-tools) Los repositorios contienen más de 100 programas útiles, que incluyen:

*   `anonymize.pl` / `anonymize.py` - anonimiza configuraciones / registros para publicar en línea- reemplaza nombres de host / dominios / FQDN, IP, contraseñas / claves en configuraciones cisco / Juniper, frases extensibles personalizadas como su nombre o el nombre de su empresa

*   `validate_json/yaml/ini/xml/avro/parquet.py` - valida JSON, YAML, INI (Java Properties), XML, Avro, Parquet incluyendo árboles de directorios, entrada estándar e incluso opcionalmente 'json de comillas únicas' y formatos de datos JSON masivos de múltiples registros como se encuentra en los sistemas MongoDB y Hadoop / Big Data.

*   Convertidores de datos PySpark Avro / CSV / JSON / Parquet

*   code reCaser for SQL / Pig / Neo4j / Hive HQL / Cassandra / MySQL / PostgreSQL / Impala / MSSQL / Oracle / Dockerfiles

*   Hive / Pig = > Indexadores de Elasticsearch / SolrCloud

*   El depurador de rendimiento de Hadoop HDFS, el extractor de suma de comprobación nativo, los scripts de política de retención de instantáneas y retención de archivos HDFS, las estadísticas de archivos HDFS, xml y la configuración de clúster de Hadoop en ejecución difieren

*   `watch_url.pl` - depura granjas web con equilibrio de carga a través de múltiples consultas a una URL: devuelve códigos de estado HTTP, % de éxito en todas las solicitudes, marcas de tiempo, tiempos de ida y vuelta y, opcionalmente, la salida

*   herramientas para Ambari, Pig, Hive, Spark + IPython Notebook, Solr CLI

*   Herramienta y plantillas de Ambari Blueprints

*   Plantillas de AWS CloudFormation

*   Herramientas de la API de DockerHub que incluyen más resultados de búsqueda y búsqueda de etiquetas de repositorio (no disponible en las herramientas oficiales de Docker)

*   [Mi biblioteca Perl](https://github.com/HariSekhon/lib) - utilizado a lo largo de este código como un submódulo para hacer que los programas en este repositorio sean cortos

*   [Mi biblioteca de Python](https://github.com/HariSekhon/pylib) - Versión de Python de la biblioteca anterior, también muy aprovechada para mantener los programas en este repositorio corto

<!--
- [Spark => Elasticsearch](https://github.com/harisekhon/spark-apps) - Scala application to index from Spark to Elasticsearch. Used to index data in Hadoop clusters or local data via Spark standalone. This started as a Scala Spark port of ```pig-text-to-elasticsearch.pig``` from my [DevOps Python Tools](https://github.com/HariSekhon/DevOps-Python-tools) repo
-->

### Sistemas de monitoreo empresarial

#### Soluciones de monitoreo compatibles

La mayor ventaja de los sistemas de monitoreo compatibles con Nagios es la multitud de complementos de Nagios creados por expertos en dominios en cada campo para monitorear casi todo lo que existe.

Los complementos de Nagios están disponibles de forma amplia y gratuita en Internet, especialmente en el original [Intercambio de Nagios](https://exchange.nagios.org/) y el más reciente [Intercambio de Icinga](https://exchange.icinga.com/) (en el que verás este proyecto en la parte superior de la lista de los más vistos).

Los siguientes sistemas de monitoreo empresarial son compatibles con Nagios Plugins y este proyecto:

*   [Núcleo de Nagios](https://www.nagios.org/) - el sistema original de monitoreo de código abierto ampliamente utilizado que estableció el estándar
    *   [Configuración del comando Nagios](http://nagios.sourceforge.net/docs/3\_0/objectdefinitions.html#command)
    *   [Configuración del servicio Nagios](http://nagios.sourceforge.net/docs/3\_0/objectdefinitions.html#service)
    *   [NRPE - Ejecutor de Nagios Remote Plugin](https://assets.nagios.com/downloads/nagioscore/docs/nrpe/NRPE.pdf) - la mayoría de los complementos verifican los servicios de red como los almacenes de datos NoSQL, pero puede usar NRPE para los complementos que verifican el sistema local, por ejemplo. `check_linux_*` / `older/check_*raid*.py`)
    *   [PNP4Nagios](http://docs.pnp4nagios.org/start) - Complemento de gráficos automáticos de métricas ampliamente utilizado para Nagios

*   [Nagios IX](https://www.nagios.com/products/nagios-xi/) - Versión comercial del Código Abierto Nagios Core con más características y soporte empresarial. La mayoría de las personas que usan Nagios usan la versión gratuita, ya que la mayor parte del beneficio está en los propios complementos.

*   [Icinga2](https://www.icinga.org/) - Popular bifurcación nagios de código abierto reescrita con más características, Icinga conserva la compatibilidad importante con nagios plugin, pero también tiene nativo [supervisión distribuida](https://www.icinga.com/docs/icinga2/latest/doc/06-distributed-monitoring/), [configuración basada en reglas](https://www.icinga.com/2014/03/31/icinga-2-0-0-9-introducing-configuration-apply-rules/), una API REST y métricas nativas que grafican integraciones a través de [Grafito](https://www.icinga.com/docs/icinga2/latest/doc/09-object-types/#graphitewriter), [InfluxDB](https://www.icinga.com/docs/icinga2/latest/doc/09-object-types/#influxdbwriter) y [OpenTSDB](https://www.icinga.com/docs/icinga2/latest/doc/09-object-types/#opentsdbwriter) para crear gráficos a partir de los datos permanentes de los plugins

*   [Shinken](http://www.shinken-monitoring.org/) - Reimplementación modular de Nagios de código abierto en Python, compatible con nagios config, con arquitectura de monitoreo distribuido, alta disponibilidad, descubrimiento de host / servicio, reenvía las métricas de los plugins perfdata a través del protocolo Graphite a [Grafito](https://graphiteapp.org/) o [InfluxDB](https://www.influxdata.com/)ver [documentación](http://shinken.readthedocs.io/en/latest/11\_integration/graphite.html)

*   [Centreon](https://www.centreon.com/en/) - Solución de monitoreo de código abierto francesa compatible con Nagios, puede reenviar las métricas del complemento perfdata a [Grafito](https://graphiteapp.org/) o [InfluxDB](https://www.influxdata.com/) a través del protocolo Graphite, consulte [documentación](https://documentation.centreon.com/docs/centreon-broker/en/3.0/user/modules.html#graphite)

*   [Naemon](http://www.naemon.org/) - Solución de monitoreo de código abierto nagios-forked, utilizando [Thruk](http://thruk.org/) como su GUI y [PNP4Nagios](http://docs.pnp4nagios.org/start) para graficar las métricas de los plugins perfdata

*   [OpenNMS](https://opennms.org/en) - Plataforma de gestión de red de nivel empresarial de código abierto con gráficos nativos, geomapeo, integración con Grafana, así como integración de reenviador de eventos de Elasticsearch para la búsqueda/ visualización de Kibana. OpenNMS puede ejecutar Nagios Plugins a través de NRPE, ver [Documentación de NRPEMonitor](http://docs.opennms.org/opennms/releases/latest/guide-admin/guide-admin.html#\_nrpemonitor)

*   [Pandora FMS](https://pandorafms.com/) - Solución de monitoreo distribuido de código abierto con tableros flexibles, gráficos, informes de SLA y compatibilidad con Nagios Plugin a través de [Nagios wrapper para el plugin del agente](https://pandorafms.com/library/nagios-wrapper-for-agent-plugin/)

*   [Sensu](https://sensuapp.org/) - Sistema de monitoreo distribuido de núcleo abierto, compatible con los complementos Nagios y Zabbix. Enterprise Edition contiene integraciones de gráficos de métricas para [Grafito](https://sensuapp.org/docs/1.2/enterprise/integrations/graphite.html), [InfluxDB](https://sensuapp.org/docs/1.2/enterprise/integrations/influxdb.html) o [OpenTSDB](https://sensuapp.org/docs/1.2/enterprise/integrations/opentsdb.html) para graficar las métricas de los plugins perfdata

*   [Check_MK](http://mathias-kettner.com/check_mk.html) - Solución de monitoreo basada en Nagios de núcleo abierto con configuración basada en reglas, descubrimiento de servicios e integración de comprobaciones múltiples basadas en agentes [MRPE - Ejecutor remoto de plugins de MK](https://mathias-kettner.de/checkmk_mrpe.html). Ver `adapter_check_mk.py` que puede ejecutar cualquier complemento de Nagios y convertir su salida a Check_MK formato de verificación local. Tiene gráficos de métricas incorporados a través de [PNP4Nagios](http://docs.pnp4nagios.org/start), Enterprise Edition puede enviar métricas a [Grafito](https://graphiteapp.org/) y [InfluxDB](https://www.influxdata.com/) a través del protocolo Graphite, consulte [documentación](https://mathias-kettner.com/cms_graphing.html)

*   [ZenOSS](https://www.zenoss.com/) - Solución de monitoreo de núcleo abierto que puede ejecutar Nagios Plugins, ver [documentación](http://wiki.zenoss.org/Working_With_Nagios_Plugins)

*   [OpsView Monitor](https://www.opsview.com/) - Distribución de monitoreo comercial basada en Nagios con gráficos de métricas nativas a través de [Centro de gráficos](https://www.opsview.com/products/features/graph-center) así como [Integración con InfluxDB](https://www.opsview.com/integrations/database/influxdb) Vía [InfluxDB Opspack](https://github.com/opsview/application-influxdb)

*   [OP5 Monitor](https://www.op5.com/op5-monitor/) - Distribución comercial de monitoreo basada en Nagios, incluyendo gráficos de métricas a través de [PNP4Nagios](http://docs.pnp4nagios.org/start)tiene [Integración con InfluxDB](https://kb.op5.com/display/HOWTOs/Install+OP5+Monitor+InfluxDB+module)

*   [Monitor de Trabajo De Base](http://www.gwos.com/) - distribución de monitoreo comercial basada en Nagios con gráficos de métricas RRD y [Integración con InfluxDB](https://kb.groundworkopensource.com/display/DOC72/How+to+configure+GroundWork+InfluxDB)

*   [Geneos](https://www.itrsgroup.com/products/geneos) - Monitoreo no estándar patentado, fue utilizado por un par de bancos para los que trabajé. Geneos no sigue los estándares de Nagios, por lo que la integración se proporciona a través de `adapter_geneos.py` que si se antepone a cualquier comando estándar del complemento nagios ejecutará y traducirá los resultados al formato CSV que Geneos espera, por lo que Geneos puede utilizar cualquier complemento nagios utilizando este programa

*   [Vientos Solares](https://www.solarwinds.com/) - Solución de monitoreo patentada pero puede tomar Nagios Plugins, ver [Doc](http://www.solarwinds.com/documentation/en/flarehelp/sam/content/SAM-Nagios-Script-Monitor-sw3266.htm)

*   [Microsoft SCOM](https://www.microsoft.com/en-us/cloud-platform/system-center) - Microsoft Systems Center Operations Manager, puede ejecutar Nagios Plugins como scripts de shell de Unix arbitrarios con comprobaciones de expresión de salud / advertencia / error, consulte el [Documentación de Microsoft Technet](https://technet.microsoft.com/en-us/library/jj126087\(v=sc.12\).aspx)

#### Soluciones de monitoreo incompatibles

*   [Zabbix](https://www.zabbix.com/) - Solución de monitoreo de código abierto con gráficos incorporados, monitoreo distribuido y descubrimiento automático, pero desafortunadamente no es compatible con Nagios Plugin, se puede hacer cierta integración a través de un script de envoltura (probamos exactamente esto en 2012, pero no nos gustó lo suficiente como para cambiar de Nagios), vea esto [hilo del foro de la comunidad](https://www.zabbix.com/forum/showthread.php?t=28010) para obtener más información y código

*   [OpsGenie](https://www.opsgenie.com/) - Monitoreo no estándar propietario, no puede ejecutar Nagios Plugins pero tiene integración con los existentes [Nagios](https://docs.opsgenie.com/docs/nagios-overview), [Icinga2](https://docs.opsgenie.com/docs/icinga2-integration) y [Prometeo](https://docs.opsgenie.com/docs/prometheus-integration)

### Integraciones de gráficos de métricas

#### Grafito, InfluxDB, Prometheus, OpenTSDB, PNP4Nagios

Muchos sistemas de monitoreo ya graficarán automáticamente los datos de la métrica de rendimiento de estos complementos de nagios a través de [PNP4Nagios](http://docs.pnp4nagios.org/start) pero también puede reenviarlo a nuevos sistemas de monitoreo y gráficos de métricas más especializados, como [Grafito](https://graphiteapp.org/), [InfluxDB](https://www.influxdata.com/), [OpenTSDB](http://opentsdb.net/) y [Prometeo](https://prometheus.io/) (este último es el más incómodo ya que requiere tirar en lugar de recibir pasivamente).

La lista anterior de [sistemas de supervisión empresarial](https://github.com/HariSekhon/Nagios-Plugins#enterprise-monitoring-systems) documenta las capacidades de integración de cada uno con enlaces a su documentación.

##### Integraciones de recopilación de métricas

También puede ejecutar estos complementos de Nagios fuera de cualquier servidor de monitoreo compatible con nagios y reenviar solo las métricas a los principales sistemas de monitoreo de métricas utilizando las siguientes herramientas:

*   [Recopilado](https://collectd.org/index.shtml) - daemon de recolección de métricas - puede ejecutar Nagios Plugins para recopilar sus perfdata a través del [plugin exec](https://collectd.org/documentation/manpages/collectd-exec.5.shtml). Puede enviar métricas a [Grafito](https://graphiteapp.org/), [InfluxDB](https://www.influxdata.com/) (a través del protocolo Graphite), [Prometeo](https://prometheus.io/) (a través del exportador para el objetivo de raspado) y [OpenTSDB](http://opentsdb.net/). Véase también el [plugin nagios recopilado](https://collectd.org/documentation/manpages/collectd-nagios.1.shtml) lo que permite a Nagios consultar las métricas recopiladas para aplicar alertas contra ellas
*   [Telegraf](https://docs.influxdata.com/telegraf/) - daemon de recolección de métricas - puede ejecutar Nagios Plugins a través de `input.exec` con `data_format="nagios"` y pasar el Nagios Plugin perfdata a [InfluxDB](https://www.influxdata.com/), [Grafito](https://graphiteapp.org/), [Prometeo](https://prometheus.io/) y [OpenTSDB](http://opentsdb.net/) - ver el [Documentación de formatos de entrada de datos de InfluxDB](https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md#nagios)

##### Complementos de integración de otras métricas

*   [PNP4Nagios](http://docs.pnp4nagios.org/start) - Complemento de gráfico automático de código abierto ampliamente utilizado para nagios de código abierto y sistemas de monitoreo similares basados en Nagios, consulte la lista de [sistemas de supervisión empresarial](https://github.com/HariSekhon/Nagios-Plugins#enterprise-monitoring-systems) arriba para ver cuáles agrupan esto
*   [Graphios](https://github.com/shawn-sterling/graphios) - envía perfdata recopilados por Nagios a sistemas de gráficos de métricas como [Grafito](https://graphiteapp.org/) o [InfluxDB](https://www.influxdata.com/) (a través del protocolo Graphite)

###### Soluciones de monitoreo anticuadas que probablemente aún no debería usar hoy en día

*   [Cactáceas](https://www.cacti.net/)
*   [Ganglios](http://ganglia.sourceforge.net/)
*   [Munin](http://munin-monitoring.org/)
*   [Mon](https://sourceforge.net/projects/mon/)
*   [HP OpenView / BTO](https://en.wikipedia.org/wiki/HP_OpenView)
*   [IBM Tivoli](https://www.ibm.com/developerworks/community/wikis/home?lang=en#!/wiki/Tivoli+Monitoring)
    etc...

También puede estar interesado en la matriz de características en el [Página de Wikipedia - Comparación de sistemas de monitoreo de red](https://en.wikipedia.org/wiki/Comparison_of_network_monitoring_systems).

### Más plugins de Nagios de 3rd Party

Esta es una lista de los mejores y más interesantes plugins de 3rd party, varios de los cuales he usado o encontrado a lo largo de los años que merecen mención, generalmente debido a su mejor calidad que los típicos plugins de Nagios Exchange / Monitoring Exchange.

*   [check_openmanage](http://folk.uio.no/trondham/software/check_openmanage.html) - Complemento de supervisión de hardware de servidores Dell PowerEdge mediante Dell OpenManage. Escrito por Trond Hasle Amundsen - comprueba RAID, procesadores, memoria, ventiladores, temperatura, fuentes de alimentación, etc. Plugin de alta calidad ampliamente utilizado - uno de mis favoritos de todos los tiempos
*   [Laboratorios Consol](https://labs.consol.de/) cheques - uno de los editores de mejor calidad de Nagios Plugins (tengo mucho respeto por este equipo):
    *   [check_hpasm](https://labs.consol.de/nagios/check_hpasm/index.html) - Complemento de monitoreo de hardware de servidores HP Proliant utilizando ASM: comprueba RAID, procesadores, memoria, ventiladores, temperatura, fuentes de alimentación
    *   [check_logfiles](https://labs.consol.de/nagios/check_logfiles/index.html) - el mejor plugin de nagios de monitoreo de registros que he visto, incluso cuentas para rotaciones de registros
    *   [check_webinject](https://labs.consol.de/nagios/check_webinject/index.html) - ver más abajo
*   [WebInject](http://www.webinject.org/plugin.html) - autenticarse a través de portales de inicio de sesión HTTP y comprobar el interior. Ampliamente utilizado y flexible a través de la configuración XML externa. Excelente: solía usar esto mucho y probablemente sea el mejor de su tipo.
*   [Jolokia](https://jolokia.org/) - Puente JMX-HTTP para facilitar la supervisión de JMX a través de llamadas Rest desde lenguajes de scripting que no son JVM. Esto es mucho más escalable que ejecutar muchos complementos de JVM Nagios que tienen una mayor sobrecarga de inicio
    *   [check_jmx4perl](https://exchange.nagios.org/directory/Plugins/Java-Applications-and-Servers/check_jmx4perl/details) - uso con Jolokia
*   [Plugins de Percona](https://www.percona.com/doc/percona-monitoring-plugins/latest/index.html) - Plugins de MySQL de especialistas en MySQL
*   [check_drbd](https://exchange.nagios.org/directory/Plugins/Operating-Systems/Linux/check_drbd/details) - No puedo recordar si este es el complemento DRBD que solía usar, pero iirc fue bueno para rastrear el retraso en el secundario y ponerse al día
*   [check_tsd](https://github.com/OpenTSDB/opentsdb/blob/master/tools/check_tsd) - Consulta de métricas de OpenTSDB
*   [check_prometheus_metric.sh](https://github.com/prometheus/nagios_plugins/blob/master/check_prometheus_metric.sh) - Normalmente no califico los scripts bash como Nagios Plugins, pero esto está en el proyecto oficial, así que vale la pena echarle un vistazo
*   [recogidos-nagios](https://collectd.org/documentation/manpages/collectd-nagios.1.shtml) - consultas Métricas recopiladas para alertas de Nagios
*   [recopilado exec-nagios.px](https://github.com/collectd/collectd/blob/master/contrib/exec-nagios.px) - ejecuta un complemento de Nagios y devuelve las métricas a Collectd para reenviarlas a una de las muchas soluciones de gráficos de métricas compatibles
*   [Datameer](https://www.datameer.com) hace referencia a este proyecto en el cuadro de diálogo [Documentos de Datameer](https://www.datameer.com/documentation/current/Monitoring+Hadoop+and+Datameer+using+Nagios) a partir de la versión 3. Datameer escribió 1 ejemplo de complemento nagios en esa página, luego hizo referencia a los 9 complementos adicionales aquí en la sección de enlaces en la parte inferior junto con los enlaces oficiales de Nagios

### Observadores de estrellas a lo largo del tiempo

[![Stargazers over time](https://starchart.cc/HariSekhon/Nagios-Plugins.svg)](https://starchart.cc/HariSekhon/Nagios-Plugins)

[git.io/nagios-plugins](https://git.io/nagios-plugins)
